var ft=Object.defineProperty,bt=Object.defineProperties;var Ft=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var ke=(t,s,r)=>s in t?ft(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,Ae=(t,s)=>{for(var r in s||(s={}))We.call(s,r)&&ke(t,r,s[r]);if(ve)for(var r of ve(s))Ke.call(s,r)&&ke(t,r,s[r]);return t},Qe=(t,s)=>bt(t,Ft(s));var Je=(t,s)=>{var r={};for(var n in t)We.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ve)for(var n of ve(t))s.indexOf(n)<0&&Ke.call(t,n)&&(r[n]=t[n]);return r};var _=(t,s,r)=>(ke(t,typeof s!="symbol"?s+"":s,r),r);import{R as e,_ as Oe,B as k,r as H,S as U,u as Ct,a as Ne,b as c,C as S,c as p,i as w,d as y,e as $e,f as O,g as b,h as E,I as B,j as F,k as z,M as N,U as _t,F as yt,l as X,L as Bt,m as Xe,n as wt,W as Dt,T as xt,o as St,D as Pt,p as kt,q as P,s as At,t as Y,v as Ot,w as Nt,x as fe,y as be,G as $t,z as re,A as Z,E as Ht,H as R,J as Mt,K as Rt,N as It,O as jt,P as Tt,Q as Ze,V as j,X as Fe,Y as Ce,Z as W,$ as I,a0 as Lt,a1 as He,a2 as Ut,a3 as zt,a4 as qt,a5 as Gt,a6 as Vt,a7 as et,a8 as tt,a9 as Yt,aa as Wt,ab as Kt,ac as Qt,ad as at,ae as le,af as Jt,ag as Xt,ah as Zt,ai as ea,aj as st,ak as ta,al as Me,am as aa}from"./vendor.77fd4d00.js";const sa=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}};sa();function na(){return e.createElement(Oe,{status:"404",title:"404",subTitle:"\u5BF9\u4E0D\u8D77\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728\uFF01",extra:e.createElement(k,{type:"primary",onClick:()=>H("/")},"\u56DE\u9996\u9875")})}const ra="_banner_87in0_1",la="_wrap_87in0_4",ua="_features_87in0_9",ca="_feature_87in0_9",ia="_icon_87in0_20",oa="_title_87in0_23",ma="_desc_87in0_26",da="_counts_87in0_31",pa="_white_87in0_31";var $={banner:ra,wrap:la,features:ua,feature:ca,icon:ia,title:oa,desc:ma,counts:da,white:pa};const Ea="_plugin_o98ih_1",ha="_user_o98ih_2",ga="_tip_o98ih_5";var Re={plugin:Ea,user:ha,tip:ga},va=Object.defineProperty,fa=Object.getOwnPropertyDescriptor,ba=(t,s,r,n)=>{for(var a=n>1?void 0:n?fa(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&va(s,r,a),a};let Ie=class{constructor(){_(this,"stacks",new Map)}on(t,s){this.stacks.has(t)||this.stacks.set(t,new Set);const r=this.stacks.get(t);r.has(s)||r.add(s)}off(t,s){if(!s)this.stacks.has(t)&&this.stacks.delete(t);else if(this.stacks.has(t)){const r=this.stacks.get(t);r.has(s)&&(r.delete(s),r.size||this.stacks.delete(t))}}emit(t,...s){if(this.stacks.has(t)){const r=this.stacks.get(t);for(const n of r)n(...s)}}has(t){return this.stacks.has(t)}count(t){return this.has(t)?this.stacks.get(t).size:0}};Ie=ba([U()],Ie);var Fa=Object.defineProperty,Ca=Object.getOwnPropertyDescriptor,_a=(t,s,r,n)=>{for(var a=n>1?void 0:n?Ca(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Fa(s,r,a),a},ya=(t,s)=>(r,n)=>s(r,n,t);let je=class extends Ie{constructor(t){super();_(this,"instance");_(this,"cancelToken",Ne.CancelToken);this.instance=Ne.create(t)}intercept(t){t(this.instance)}fetch(t){const s=this.cancelToken.source();return t.withCredentials=!0,t.cancelToken=s.token,{promise:this.instance(t),cancel:r=>s.cancel(r)}}useRequest(t){const[s,r]=c.exports.useState(t.default||null),[n,a]=c.exports.useState(0),[l,u]=c.exports.useState(!1),[v,d]=c.exports.useState({}),[i,h]=c.exports.useState({}),o=c.exports.useCallback(f=>{f&&d(f),a(Date.now())},[d,a]);return c.exports.useEffect(()=>{if(n){const{promise:f,cancel:C}=this.fetch(Object.assign(t,v));return f.then(m=>(m.config.responseType||"json")==="json"?m:(this.blob(m),r(null),{status:200,data:null})).then(m=>{if(r(m.data),i.success)return i.success(m.data)}).catch(m=>{if(!Ne.isCancel(m)){if(this.has(m.status))this.emit(m.status,{message:m.response.data,setState:r,options:t});else if(i.failed)return i.failed({status:m.response.status,message:m.response.data})}}).finally(()=>{if(u(!1),i.finally)return i.finally()}),u(!0),()=>{C(),u(!1)}}},[n,t.url]),[o,{state:s,loading:l,setState:r},h]}blob(t){const s=t.headers["content-disposition"].match(/filename=(.*)/)[1],r=new Blob([t.data],{type:"application/octet-stream;charset=UTF-8"});if(typeof window.navigator.msSaveBlob!="undefined")window.navigator.msSaveBlob(r,decodeURI(s));else{const n=window.URL.createObjectURL(r),a=document.createElement("a");a.style.display="none",a.href=n,a.setAttribute("download",decodeURI(s)),typeof a.download=="undefined"&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}}useGet(t){const[s,r,n]=this.useRequest(Object.assign(t,{method:"get"}));return[c.exports.useCallback(l=>s(l),[s]),r,n]}useDelete(t){const[s,r,n]=this.useRequest(Object.assign(t,{method:"delete"}));return[c.exports.useCallback(l=>s(l),[s]),r,n]}usePost(t){return this.useRequest(Object.assign(t,{method:"post"}))}usePut(t){return this.useRequest(Object.assign(t,{method:"put"}))}};je=_a([U(),ya(0,Ct())],je);var Ba=Object.defineProperty,wa=Object.getOwnPropertyDescriptor,Da=(t,s,r,n)=>{for(var a=n>1?void 0:n?wa(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Ba(s,r,a),a};let K=class extends je{constructor(){super({baseURL:"/~"})}};K=Da([U()],K);var xa=Object.defineProperty,Sa=Object.getOwnPropertyDescriptor,Pa=(t,s,r,n)=>{for(var a=n>1?void 0:n?Sa(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&xa(s,r,a),a};let Q=class extends K{getWebsiteMode(){return this.useGet({url:"/setup/mode",default:-1})}setORMState(){const[t,...s]=this.usePost({url:"/setup/orm",default:!1});return[c.exports.useCallback(n=>t({data:n}),[t]),...s]}getORMState(){return this.useGet({url:"/setup/orm",default:this.createDefaultORMState()})}createDefaultORMState(){return{type:null,host:null,port:0,username:null,password:null,database:null}}setRedisState(){const[t,...s]=this.usePost({url:"/setup/redis",default:!1});return[c.exports.useCallback(n=>t({data:n}),[t]),...s]}getRedisState(){return this.useGet({url:"/setup/redis",default:this.createDefaultRedisState()})}createDefaultRedisState(){return{host:null,port:0,password:null,db:0}}setAdmin(){const[t,...s]=this.usePost({url:"/user",default:null});return[c.exports.useCallback(n=>t({data:n}),[t]),...s]}};Q=Pa([U()],Q);var ka=Object.defineProperty,Aa=Object.getOwnPropertyDescriptor,Oa=(t,s,r,n)=>{for(var a=n>1?void 0:n?Aa(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&ka(s,r,a),a};let q=class extends K{webLogin(){const[t,...s]=this.usePost({url:"/webLogin",default:null});return[c.exports.useCallback((n,a={})=>{t({params:{type:n},data:a})},[t]),...s]}webLogout(){return this.useDelete({url:"/webLogout",default:null})}userInfo(){return this.useGet({url:"/user",default:q.createDefaultUserInfo()})}static createDefaultUserInfo(){return{id:0,account:null,nickname:null,email:null,login_code:"default",avatar:null,scopes:[],admin:!1,gmt_create:new Date,gmt_modified:new Date,login_forbiden:!1}}getUsers(){const[t,...s]=this.useGet({url:"/users",default:[[],0]});return[c.exports.useCallback((n,a,l)=>t({params:{page:n+"",size:a+"",keyword:l}}),[t]),...s]}changeUserAdminStatus(t){const[s,...r]=this.usePut({url:`/user/${t}/admin`,default:null});return[c.exports.useCallback(a=>s({data:{value:a}}),[s]),...r]}changeUserAdminForbiddenStatus(t){const[s,...r]=this.usePut({url:`/user/${t}/forbidden`,default:null});return[c.exports.useCallback(a=>s({data:{value:a}}),[s]),...r]}getMyPackages(){const[t,...s]=this.useGet({url:"/packages",default:[[],0]});return[c.exports.useCallback((n,a,l)=>{t({params:{page:n+"",size:a+"",keyword:l}})},[t]),...s]}transferPackage(t){const[s,...r]=this.usePost({url:`/packages/${t}/transfer`,default:null});return[c.exports.useCallback(a=>s({data:{uid:a}}),[s]),...r]}};q=Oa([U()],q);var Na=Object.defineProperty,$a=Object.getOwnPropertyDescriptor,Ha=(t,s,r,n)=>{for(var a=n>1?void 0:n?$a(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Na(s,r,a),a};let ue=class extends K{getLogins(){return this.useGet({url:"/plugin/logins",default:[]})}getPlugins(){return this.useGet({url:"/plugins",default:[]})}uninstall(t){return this.useDelete({url:`/plugin/${encodeURIComponent(t)}`,default:null})}install(){const[t,...s]=this.usePost({url:"/plugin",default:null});return[c.exports.useCallback(n=>t({data:n}),[t]),...s]}savePluginConfigs(t){const[s,...r]=this.usePut({url:`/plugin/${encodeURIComponent(t)}/configs`,default:null});return[c.exports.useCallback(a=>s({data:a}),[s]),...r]}};ue=Ha([U()],ue);var Ma=Object.defineProperty,Ra=Object.getOwnPropertyDescriptor,Ia=(t,s,r,n)=>{for(var a=n>1?void 0:n?Ra(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Ma(s,r,a),a};let ce=class extends K{getConfigs(){return this.useGet({url:"/configs",default:this.createDefaultConfigs()})}createDefaultConfigs(){return{id:0,domain:null,scopes:[],login_code:"default",registries:[],dictionary:"packages",registerable:!1}}saveConfigs(){const[t,...s]=this.usePut({url:"/configs",default:this.createDefaultConfigs()});return[c.exports.useCallback(n=>t({data:n}),[t]),...s]}dashboard(){return this.useGet({url:"/dashboard",default:{userCount:0,packageCount:0,versionCount:0}})}};ce=Ia([U()],ce);var ja=Object.defineProperty,Ta=Object.getOwnPropertyDescriptor,La=(t,s,r,n)=>{for(var a=n>1?void 0:n?Ta(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&ja(s,r,a),a};let ie=class extends K{getPackage(){const[t,...s]=this.useGet({url:"/package",default:this.createDefaultPackageState()});return[c.exports.useCallback((n,a)=>t({params:{name:n,version:a}}),[t]),...s]}createDefaultPackageState(){return{name:null,description:null,"dist-tags":{},versions:{},readme:null,readmeFilename:null,maintainers:[],_nppm:!1,time:{modified:null,created:null}}}getMaintainers(t){return this.useGet({url:`/package/${encodeURIComponent(t)}/maintainers`,default:[]})}search(){const[t,...s]=this.useGet({url:"/package/search",default:[]});return[c.exports.useCallback(n=>t({params:{keyword:n}}),[t]),...s]}updateRecently(){return this.useGet({url:"/package/update/recently",default:[]})}};ie=La([U()],ie);var Ua=Object.defineProperty,za=Object.getOwnPropertyDescriptor,nt=(t,s,r,n)=>{for(var a=n>1?void 0:n?za(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Ua(s,r,a),a};const oe=c.exports.createContext(q.createDefaultUserInfo());let _e=class{constructor(){_(this,"HttpUserService")}render(t){const[s,{state:r},n]=this.HttpUserService.userInfo();return c.exports.useEffect(()=>n({failed:a=>p.error(a.message)}),[n]),c.exports.useEffect(()=>s(),[]),e.createElement(oe.Provider,{value:r},t.children)}};nt([w(q)],_e.prototype,"HttpUserService",2);_e=nt([S()],_e);var qa=Object.defineProperty,Ga=Object.getOwnPropertyDescriptor,Te=(t,s,r,n)=>{for(var a=n>1?void 0:n?Ga(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&qa(s,r,a),a};let me=class{constructor(){_(this,"HttpUserService");_(this,"HttpPluginService")}render(t){const s=c.exports.useContext(oe),r=y(this.UserButton,this),n=y(this.UserInfo,this);return s.id>0?e.createElement(n,null):e.createElement(r,{size:t.size})}UserButton(t){const[s,r]=c.exports.useState(!1),[n,a]=c.exports.useState(null),[l,u]=c.exports.useState(null),[v,d,i]=this.HttpUserService.webLogin(),[h,o,f]=this.HttpPluginService.getLogins(),C=()=>{if(!n||!l)return p.warn("\u8D26\u53F7\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");v("default",{username:n,password:l})};return c.exports.useEffect(()=>i({failed:m=>p.error(m.message),success:m=>m.loginUrl?window.location.href=m.loginUrl:p.success("\u767B\u5F55\u6210\u529F").then(()=>window.location.reload())}),[i]),c.exports.useEffect(()=>f({failed:m=>p.error(m.message)}),[f]),c.exports.useEffect(()=>h(),[]),e.createElement(c.exports.Fragment,null,e.createElement(k,{type:"primary",size:t.size,onClick:()=>r(!0)},"\u767B\u5F55"),e.createElement($e,{title:"\u7528\u6237\u767B\u5F55",visible:s,onCancel:()=>r(!1),footer:null},e.createElement(O,{gutter:24},e.createElement(b,{span:16},e.createElement(E.Paragraph,null,e.createElement(B,{disabled:d.loading,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u8D26\u53F7",value:n,onChange:m=>a(m.target.value)})),e.createElement(E.Paragraph,null,e.createElement(B,{disabled:d.loading,placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801",value:l,onChange:m=>u(m.target.value),type:"password"})),e.createElement(k,{type:"primary",onClick:C,loading:d.loading},"\u767B\u5F55")),o.state.length&&e.createElement(b,{span:8},e.createElement(E.Paragraph,null,"\u7B2C\u4E09\u65B9\u767B\u5F55"),e.createElement(O,{gutter:[0,16]},o.state.map(m=>e.createElement(b,{span:24,key:m.name,className:Re.plugin,onClick:()=>v(m.name,{redirect:window.location.href})},e.createElement(F,null,e.createElement(z,{size:"small",src:m.plugin_icon}),e.createElement("span",null,m.plugin_name)))))))))}UserInfo(){const[t,{loading:s},r]=this.HttpUserService.webLogout(),n=c.exports.useContext(oe),a=y(this.label,this),l=e.createElement(N,null,e.createElement(N.Item,{key:"account",icon:e.createElement(_t,null),disabled:!0},e.createElement(a,{tip:n.account},"\u6211\u7684\u8D26\u53F7")),e.createElement(N.Item,{key:"gmt_create",icon:e.createElement(yt,null),disabled:!0},e.createElement(a,{tip:X(n.gmt_create).format("YYYY-MM-DD HH:mm:ss")},"\u6CE8\u518C\u65F6\u95F4")),e.createElement(N.Item,{key:"gmt_modified",icon:e.createElement(Bt,null),disabled:!0},e.createElement(a,{tip:X(n.gmt_modified).format("YYYY-MM-DD HH:mm:ss")},"\u6700\u8FD1\u767B\u5F55\u65F6\u95F4")),e.createElement(N.Divider,null),e.createElement(N.Item,{key:"packages",icon:e.createElement(Xe,null),onClick:()=>H("/packages")},e.createElement(a,{tip:"Packages",enterable:!0},"\u6211\u53C2\u4E0E\u7684\u79C1\u6709\u5305")),e.createElement(N.Item,{key:"scopes",icon:e.createElement(Xe,null)},e.createElement(a,{tip:"Scopes",enterable:!0},"\u6211\u7684\u547D\u540D\u7A7A\u95F4")),e.createElement(N.Divider,null),e.createElement(N.Item,{key:"settings",icon:e.createElement(wt,null),disabled:!n.admin,onClick:()=>H("/admin/settings")},e.createElement(a,{tip:"Settings",enterable:!0},"\u6574\u7AD9\u5168\u5C40\u8BBE\u7F6E")),e.createElement(N.Item,{key:"plugins",icon:e.createElement(Dt,null),disabled:!n.admin,onClick:()=>H("/admin/plugins")},e.createElement(a,{tip:"plugins",enterable:!0},"\u6574\u7AD9\u63D2\u4EF6\u7BA1\u7406")),e.createElement(N.Item,{key:"members",icon:e.createElement(xt,null),disabled:!n.admin,onClick:()=>H("/admin/users")},e.createElement(a,{tip:"Members",enterable:!0},"\u6CE8\u518C\u7528\u6237\u7BA1\u7406")),e.createElement(N.Divider,null),e.createElement(N.Item,{key:"logout",icon:e.createElement(St,null),danger:!0,onClick:()=>t(),disabled:s},"\u9000\u51FA\u767B\u5F55"));return c.exports.useEffect(()=>r({failed:u=>p.error(u.message),success:()=>p.success("\u9000\u51FA\u767B\u5F55\u6210\u529F").then(()=>window.location.reload())}),[r]),e.createElement(Pt,{overlay:l},e.createElement(F,{className:Re.user},e.createElement(z,{src:n.avatar}),e.createElement("span",null,n.nickname),e.createElement(kt,null)))}label(t){return e.createElement(P,{blocked:!0,align:"between",valign:"middle"},e.createElement("span",null,t.children),e.createElement("span",{className:Re.tip},t.tip," ",t.enterable&&e.createElement(At,null)))}};Te([w(q)],me.prototype,"HttpUserService",2);Te([w(ue)],me.prototype,"HttpPluginService",2);me=Te([S()],me);function rt(t){return e.createElement("svg",Ae({viewBox:"0 0 780 250"},t),e.createElement("path",{fill:t.color||"#231F20",d:"M240,250h100v-50h100V0H240V250z M340,50h50v100h-50V50z M480,0v200h100V50h50v150h50V50h50v150h50V0H480z M0,200h100V50h50v150h50V0H0V200z"}))}const Va="_root_eel4b_5",Ya="_wrap_eel4b_10",Wa="_container_eel4b_14",Ka="_logo_eel4b_17",Qa="_searcher_eel4b_20",Ja="_top_eel4b_23",Xa="_slogen_eel4b_30";var G={root:Va,wrap:Ya,container:Wa,logo:Ka,searcher:Qa,top:Ja,slogen:Xa},Za=Object.defineProperty,es=Object.getOwnPropertyDescriptor,Le=(t,s,r,n)=>{for(var a=n>1?void 0:n?es(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Za(s,r,a),a};const{Option:ts}=Z;let ee=class{constructor(){_(this,"LoginButton");_(this,"HttpPackageService")}render(){const t=Y(this.LoginButton),[s,r]=c.exports.useState(null),[n,a]=c.exports.useState(null),l=c.exports.useRef(null),[u,{state:v,loading:d,setState:i},h]=this.HttpPackageService.search(),o=m=>{if(!m)return r(null),i([]);r(m),clearTimeout(l.current),l.current=setTimeout(()=>u(m),300)},f=m=>{if(!m)return a(null);a(m)},C=m=>{m==="Enter"&&(v.length?H("/package/"+v[0].pathname):H("/package/"+s))};return c.exports.useEffect(()=>h({failed:m=>p.error(m.message)}),[h]),c.exports.useEffect(()=>{if(n)return H("/package/"+n)},[n]),e.createElement(Ot,{offsetTop:0},e.createElement("div",{className:G.root},e.createElement("div",{className:G.top},e.createElement(P,{align:"between",valign:"middle",className:G.wrap},e.createElement("span",{className:G.slogen},e.createElement(Nt,null)," Node Private Package Manager"),e.createElement(fe,{separator:e.createElement(be,{type:"vertical"})},e.createElement(fe.Item,null,e.createElement(E.Link,{href:"https://cevio.github.io/nppm/",target:"_blank"},"\u6587\u6863")),e.createElement(fe.Item,null,e.createElement(E.Link,{href:"https://github.com/cevio/nppm/issues",target:"_blank"},"\u8BA8\u8BBA")),e.createElement(fe.Item,null,e.createElement(E.Link,{href:"https://github.com/cevio/nppm",target:"_blank"},"GitHub ",e.createElement($t,null)))))),e.createElement(P,{blocked:!0,valign:"middle",align:"between",className:re(G.container,G.wrap)},e.createElement(rt,{width:70,onClick:()=>H("/"),className:G.logo}),e.createElement(P,{span:1,className:G.searcher},e.createElement(Z,{showSearch:!0,showArrow:!0,style:{width:"100%"},placeholder:"Search private packages on nppm ...",filterOption:!1,value:s,onSearch:o,onChange:f,onInputKeyDown:m=>C(m.key),loading:d},v.map(m=>e.createElement(ts,{key:m.pathname},m.pathname)))),e.createElement(t,null))))}};Le([w(me)],ee.prototype,"LoginButton",2);Le([w(ie)],ee.prototype,"HttpPackageService",2);ee=Le([S()],ee);function lt(){return e.createElement(P,{blocked:!0,align:"center",valign:"middle",direction:"column",className:"com-copyright"},e.createElement(E.Text,null,e.createElement("span",null,"Node Private Package Manager"),e.createElement(be,{type:"vertical"}),e.createElement("span",null,"MIT Licensed"),e.createElement(be,{type:"vertical"}),e.createElement("span",null,"Copyright ",e.createElement(Ht,null),"2019-present"),e.createElement(be,{type:"vertical"}),e.createElement(F,null,e.createElement(E.Link,{href:"https://github.com/cevio",target:"_blank"},"Evio Shen"),e.createElement("span",null,"All Rights Reserved."))))}var as=Object.defineProperty,ss=Object.getOwnPropertyDescriptor,ye=(t,s,r,n)=>{for(var a=n>1?void 0:n?ss(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&as(s,r,a),a};let te=class{constructor(){_(this,"NavBar");_(this,"HttpConfigsService");_(this,"HttpPackageService")}render(){const t=Y(this.NavBar),s=y(this.features,this),r=y(this.toper,this),n=y(this.count,this),a=y(this.updateRecently,this);return e.createElement(c.exports.Fragment,null,e.createElement(t,null),e.createElement(r,null),e.createElement(s,null),e.createElement(n,null),e.createElement(a,null),e.createElement(lt,null))}toper(){return e.createElement("div",{className:$.banner},e.createElement("div",{className:$.wrap},e.createElement(F,{direction:"vertical",align:"center",style:{width:"100%"},size:32},e.createElement(rt,{color:"#ff0080",style:{width:200}}),e.createElement(E.Title,{level:1,style:{color:"#fff"}},"Node Private Package Manager"),e.createElement(E.Paragraph,{style:{width:600,textAlign:"center",color:"#d8ccf1",fontSize:17}},"A set of lightweight and plug-in powerful NPM private package management program, compatible with most of the functions of NPM-cli tools"),e.createElement(k,{type:"primary",size:"large",danger:!0,icon:e.createElement(Mt,null)},"npm i -g @nppm/npm"))))}features(){const t=y(this.feature,this);return e.createElement("div",{className:$.features},e.createElement("div",{className:$.wrap},e.createElement(O,{gutter:[24,24]},e.createElement(b,{span:6},e.createElement(t,{icon:e.createElement(Rt,null),title:"\u7B80\u6613\u90E8\u7F72",color:"#cf1322"},"\u4E00\u952E\u5B89\u88C5\u3001\u4E00\u952E\u5347\u7EA7\uFF0C\u53EF\u89C6\u5316\u5B89\u88C5\u672C\u670D\u52A1\uFF0C\u63D0\u4F9B\u4E30\u5BCC\u7684\u540E\u53F0\u914D\u7F6E\uFF0C\u5373\u6539\u5373\u751F\u6548\u3002")),e.createElement(b,{span:6},e.createElement(t,{icon:e.createElement(It,null),title:"\u8F7B\u91CF\u670D\u52A1",color:"#1890ff"},"\u4E13\u6CE8\u4E8E\u63D0\u4F9B\u79C1\u6709\u5305\u670D\u52A1\uFF0C\u4E0D\u53C2\u6742\u5176\u4ED6NPM\u5B9E\u65F6\u540C\u6B65\u529F\u80FD\uFF0C\u4FDD\u969C\u7CFB\u7EDF\u7A33\u5B9A\u4E0E\u8F7B\u91CF\u3002")),e.createElement(b,{span:6},e.createElement(t,{icon:e.createElement(jt,null),title:"\u517C\u5BB9\u6027\u5F3A",color:"#fa8c16"},"\u517C\u5BB9NPM\u9ED8\u8BA4\u767B\u5F55\u65B9\u5F0F\u548C\u7B2C\u4E09\u65B9\u767B\u5F55\u65B9\u5F0F\uFF0C\u540C\u65F6\u517C\u5BB9NPM\u4E0D\u540C\u7248\u672C\u7684API\u3002")),e.createElement(b,{span:6},e.createElement(t,{icon:e.createElement(Tt,null),title:"\u63D2\u4EF6\u5316\u80FD\u529B\u7A81\u51FA",color:"#7cb305"},"\u63D0\u4F9B\u5F3A\u5927\u7684\u63D2\u4EF6\u5D4C\u5165\u529F\u80FD\u548C\u670D\u52A1\u4E8B\u4EF6\u529F\u80FD\uFF0C\u4F9B\u5F00\u53D1\u8005\u81EA\u5B9A\u4E49\u4F01\u4E1A\u7EA7\u5E94\u7528\u529F\u80FD\u3002")))))}feature(t){return e.createElement(F,{direction:"vertical",className:$.feature,align:"center"},e.createElement("div",{className:$.icon,style:{color:t.color}},t.icon),e.createElement("div",{className:$.title,style:{color:t.color}},t.title),e.createElement("div",{className:$.desc},t.children))}count(){const[t,{state:s,loading:r},n]=this.HttpConfigsService.dashboard();return c.exports.useEffect(()=>n({failed:a=>p.error(a.message)}),[n]),c.exports.useEffect(()=>t(),[]),e.createElement("div",{className:$.counts},e.createElement("div",{className:$.wrap},e.createElement(Ze,{spinning:r},e.createElement(E.Title,{level:3,style:{textAlign:"center",marginBottom:32}},"\u6570\u636E\u7EDF\u8BA1"),e.createElement(O,{gutter:[24,24]},e.createElement(b,{span:6},e.createElement(j,{title:null,hoverable:!0},e.createElement(Fe,{title:"\u603B\u7528\u6237\u6570",value:s.userCount,suffix:"\u4EBA"}))),e.createElement(b,{span:6},e.createElement(j,{title:null,hoverable:!0},e.createElement(Fe,{title:"\u603B\u6A21\u5757\u6570",value:s.packageCount,suffix:"\u4E2A"}))),e.createElement(b,{span:6},e.createElement(j,{title:null,hoverable:!0},e.createElement(Fe,{title:"\u603B\u7248\u672C\u6570",value:s.versionCount,suffix:"\u4E2A"}))),e.createElement(b,{span:6},e.createElement(j,{title:null,hoverable:!0},e.createElement(Fe,{title:"\u603B\u4E0B\u8F7D\u6570",value:3278438658,suffix:"\u6B21"})))))))}updateRecently(){const t=c.exports.useMemo(()=>this.columns(),[]),[s,{state:r,loading:n},a]=this.HttpPackageService.updateRecently();return c.exports.useEffect(()=>a({failed:l=>p.error(l.message)}),[a]),c.exports.useEffect(()=>s(),[]),e.createElement("div",{className:re($.counts,$.white)},e.createElement("div",{className:$.wrap},e.createElement(E.Title,{level:3,style:{textAlign:"center",marginBottom:32}},"\u6700\u65B0\u66F4\u65B0\u7684\u79C1\u6709\u6A21\u5757"),e.createElement(Ce,{pagination:!1,dataSource:r,columns:t,rowKey:"id"})))}columns(){return[{title:"\u6A21\u5757",dataIndex:"pathname",render(t){return e.createElement(E.Link,{onClick:()=>H("/package/"+t)},t)}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"gmt_modified",className:"number",render(t){return X(t).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u603B\u7248\u672C\u6570",dataIndex:"versions",className:"number",align:"center"},{title:"\u603B\u8D21\u732E\u8005\u6570",dataIndex:"maintainers",className:"number",align:"center"},{title:"\u7BA1\u7406\u5458",render(t){return e.createElement(F,null,e.createElement(z,{src:t.avatar}),t.nickname)}}]}};ye([w(ee)],te.prototype,"NavBar",2);ye([w(ce)],te.prototype,"HttpConfigsService",2);ye([w(ie)],te.prototype,"HttpPackageService",2);te=ye([S(),R("/")],te);const ns="_container_13qog_1",rs="_title_13qog_4";var ut={container:ns,title:rs},ls=Object.defineProperty,us=Object.getOwnPropertyDescriptor,ct=(t,s,r,n)=>{for(var a=n>1?void 0:n?us(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&ls(s,r,a),a};let de=class{constructor(){_(this,"HttpSetupService");_(this,"dataBaseTypes",[{label:"MongoDB",value:"mongodb"},{label:"MsSQL",value:"mssql"},{label:"MySQL",value:"mysql"},{label:"Oracle",value:"oracle"},{label:"Postgres",value:"postgres"},{label:"SQLite",value:"sqlite"}])}render(){const[t,s]=c.exports.useState("mysql"),[r,n]=c.exports.useState(null),[a,l]=c.exports.useState(null),[u,v]=c.exports.useState(null),[d,i]=c.exports.useState(null),[h,o]=c.exports.useState(null),[f,{loading:C},m]=this.HttpSetupService.setORMState();return c.exports.useEffect(()=>m({failed:g=>p.error(g.message),success:async g=>{if(!g)return await p.error("\u6570\u636E\u5E93\u8FDE\u63A5\u5931\u8D25");await p.success("\u4FDD\u5B58\u6210\u529F"),window.location.reload()}}),[m]),e.createElement(P,{blocked:!0,fulled:!0,align:"center",valign:"middle",direction:"column"},e.createElement("div",{className:ut.container},e.createElement(E.Title,{level:4,className:ut.title},"\u521B\u5EFA\u6570\u636E\u5E93\u670D\u52A1"),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u6570\u636E\u5E93\u9009\u62E9"),e.createElement(Z,{disabled:C,options:this.dataBaseTypes,value:t,onChange:g=>s(g)}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u6570\u636E\u5E93\u5730\u5740"),e.createElement(B,{disabled:C,value:r,onChange:g=>n(g.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u6570\u636E\u5E93\u7AEF\u53E3"),e.createElement(W,{disabled:C,value:a,onChange:g=>l(g),placeholder:"\u4F8B\u5982 8642",step:1,min:3e3,style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u6570\u636E\u5E93\u8D26\u53F7"),e.createElement(B,{disabled:C,value:u,onChange:g=>v(g.target.value),placeholder:"\u4F8B\u5982 admin",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u6570\u636E\u5E93\u5BC6\u7801"),e.createElement(B,{disabled:C,value:d,onChange:g=>i(g.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u6570\u636E\u5E93\u540D\u79F0"),e.createElement(B,{disabled:C,value:h,onChange:g=>o(g.target.value),placeholder:"\u4F8B\u5982 mysql_database",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(k,{block:!0,type:"primary",size:"large",loading:C,onClick:()=>f({type:t,host:r,port:a,username:u,password:d,database:h})},"\u4FDD\u5B58"))))}};ct([w(Q)],de.prototype,"HttpSetupService",2);de=ct([S()],de);const cs="_container_13qog_1",is="_title_13qog_4";var it={container:cs,title:is},os=Object.defineProperty,ms=Object.getOwnPropertyDescriptor,ot=(t,s,r,n)=>{for(var a=n>1?void 0:n?ms(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&os(s,r,a),a};let Be=class{constructor(){_(this,"HttpSetupService")}render(){const[t,s]=c.exports.useState(null),[r,n]=c.exports.useState(null),[a,l]=c.exports.useState(null),[u,v]=c.exports.useState(null),[d,{loading:i},h]=this.HttpSetupService.setRedisState();return c.exports.useEffect(()=>h({failed:o=>p.error(o.message),success:async o=>{if(!o)return await p.error("REDIS\u8FDE\u63A5\u5931\u8D25");await p.success("\u4FDD\u5B58\u6210\u529F"),window.location.reload()}}),[h]),e.createElement(P,{blocked:!0,fulled:!0,align:"center",valign:"middle",direction:"column"},e.createElement("div",{className:it.container},e.createElement(E.Title,{level:4,className:it.title},"\u521B\u5EFAREDIS\u670D\u52A1"),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"REIDS \u5730\u5740"),e.createElement(B,{disabled:i,value:t,onChange:o=>s(o.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"REDIS \u7AEF\u53E3"),e.createElement(W,{disabled:i,value:r,onChange:o=>n(o),placeholder:"\u4F8B\u5982 6379",step:1,style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"REDIS \u5BC6\u7801"),e.createElement(B,{disabled:i,value:a,onChange:o=>l(o.target.value),placeholder:"\u4F8B\u5982 admin888 \u9009\u586B",type:"password",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"REDIS \u901A\u9053"),e.createElement(W,{disabled:i,value:u,onChange:o=>v(o),placeholder:"\u4F8B\u5982 0 \u9009\u586B",step:1,min:0,style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(k,{block:!0,type:"primary",size:"large",loading:i,onClick:()=>d({host:t,port:r,password:a,db:u})},"\u4FDD\u5B58"))))}};ot([w(Q)],Be.prototype,"HttpSetupService",2);Be=ot([S()],Be);const ds="_container_13qog_1",ps="_title_13qog_4";var mt={container:ds,title:ps},Es=Object.defineProperty,hs=Object.getOwnPropertyDescriptor,dt=(t,s,r,n)=>{for(var a=n>1?void 0:n?hs(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Es(s,r,a),a};let we=class{constructor(){_(this,"HttpSetupService")}render(){const[t,s]=c.exports.useState(null),[r,n]=c.exports.useState(null),[a,l]=c.exports.useState(null),[u,v]=c.exports.useState(null),[d,{loading:i},h]=this.HttpSetupService.setAdmin(),o=()=>{if(!t)return p.warn("\u8D26\u53F7\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A");if(!r)return p.warn("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");if(!a)return p.warn("\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A");if(!u)return p.warn("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A");if(a!==r)return p.warn("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4");d({username:t,password:r,email:u})};return c.exports.useEffect(()=>h({failed:f=>p.error(f.message),success:async f=>{if(!f)return await p.error("REDIS\u8FDE\u63A5\u5931\u8D25");await p.success("\u4FDD\u5B58\u6210\u529F"),window.location.reload()}}),[h]),e.createElement(P,{blocked:!0,fulled:!0,align:"center",valign:"middle",direction:"column"},e.createElement("div",{className:mt.container},e.createElement(E.Title,{level:4,className:mt.title},"\u521B\u5EFA\u521D\u59CB\u7BA1\u7406\u5458"),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u8D26\u53F7\u540D\u79F0"),e.createElement(B,{disabled:i,value:t,onChange:f=>s(f.target.value),placeholder:"\u4F8B\u5982 admin",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u521D\u59CB\u5BC6\u7801"),e.createElement(B,{disabled:i,value:r,onChange:f=>n(f.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u786E\u8BA4\u5BC6\u7801"),e.createElement(B,{disabled:i,value:a,onChange:f=>l(f.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(F,{size:"large"},e.createElement("span",null,"\u521D\u59CB\u90AE\u7BB1"),e.createElement(B,{disabled:i,value:u,onChange:f=>v(f.target.value),placeholder:"\u4F8B\u5982 admin@qq.com",style:{width:300}}))),e.createElement(E.Paragraph,null,e.createElement(k,{block:!0,type:"primary",size:"large",loading:i,onClick:o},"\u4FDD\u5B58"))))}};dt([w(Q)],we.prototype,"HttpSetupService",2);we=dt([S()],we);var gs=Object.defineProperty,vs=Object.getOwnPropertyDescriptor,pe=(t,s,r,n)=>{for(var a=n>1?void 0:n?vs(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&gs(s,r,a),a};let J=class{constructor(){_(this,"HttpSetupService");_(this,"ORMSetupComponent");_(this,"RedisSetupComponent");_(this,"AdminSetupComponent")}render(t){const s=Y(this.ORMSetupComponent),r=Y(this.RedisSetupComponent),n=Y(this.AdminSetupComponent),[a,{state:l},u]=this.HttpSetupService.getWebsiteMode();return c.exports.useEffect(()=>u({failed:v=>p.error(v.message)}),[u]),c.exports.useEffect(a,[]),l===1?e.createElement(s,null):l===2?e.createElement(r,null):l===3?e.createElement(n,null):l===0?t.children:null}};pe([w(Q)],J.prototype,"HttpSetupService",2);pe([w(de)],J.prototype,"ORMSetupComponent",2);pe([w(Be)],J.prototype,"RedisSetupComponent",2);pe([w(we)],J.prototype,"AdminSetupComponent",2);J=pe([S()],J);var fs=Object.defineProperty,bs=Object.getOwnPropertyDescriptor,Fs=(t,s,r,n)=>{for(var a=n>1?void 0:n?bs(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&fs(s,r,a),a};let Ee=class{render(t){return c.exports.useContext(oe).admin?t.children:e.createElement(Oe,{status:"403",title:"403",subTitle:"\u62B1\u6B49\uFF0C\u6B64\u529F\u80FD\u4EC5\u5BF9\u7BA1\u7406\u5458\u5F00\u653E",extra:e.createElement(k,{type:"primary",onClick:()=>H("/")},"\u56DE\u9996\u9875")})}};Ee=Fs([S()],Ee);var Cs=Object.defineProperty,_s=Object.getOwnPropertyDescriptor,pt=(t,s,r,n)=>{for(var a=n>1?void 0:n?_s(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Cs(s,r,a),a};let T=class{constructor(){_(this,"NavBar")}render(t){const s=Y(this.NavBar);return e.createElement(c.exports.Fragment,null,e.createElement(s,null),e.createElement("div",{style:{width:t.width||"100%",margin:"0 auto",marginTop:t.top||0,marginBottom:t.bottom||0}},t.children),e.createElement(lt,null))}};pt([w(ee)],T.prototype,"NavBar",2);T=pt([S()],T);var ys=Object.defineProperty,Bs=Object.getOwnPropertyDescriptor,ws=(t,s,r,n)=>{for(var a=n>1?void 0:n?Bs(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&ys(s,r,a),a};let Ue=class{render(t){return c.exports.useContext(oe).id>0?t.children:e.createElement(Oe,{status:"403",title:"403",subTitle:"\u62B1\u6B49\uFF0C\u6B64\u529F\u80FD\u4EC5\u5BF9\u767B\u5F55\u7528\u6237\u5F00\u653E",extra:e.createElement(k,{type:"primary",onClick:()=>H("/")},"\u56DE\u9996\u9875")})}};Ue=ws([S()],Ue);var Ds=Object.defineProperty,xs=Object.getOwnPropertyDescriptor,Et=(t,s,r,n)=>{for(var a=n>1?void 0:n?xs(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Ds(s,r,a),a};let De=class{constructor(){_(this,"HttpUserService")}render(){const[t,s]=c.exports.useState(1),[r,n]=c.exports.useState(10),[a,l]=c.exports.useState(),[u,{state:v,loading:d},i]=this.HttpUserService.getMyPackages(),h=c.exports.useMemo(()=>this.columns(()=>u(t,r,a)),[u,t,r,a]);return c.exports.useEffect(()=>i({failed:o=>p.error(o.message)}),[i]),c.exports.useEffect(()=>u(t,r,a),[t,r,a]),c.exports.useEffect(()=>{a&&s(1)},[a]),e.createElement(j,{title:"\u6211\u53C2\u4E0E\u7684\u6A21\u5757\u53D1\u5E03",extra:e.createElement(B.Search,{onChange:o=>!o.target.value&&l(void 0),onSearch:o=>l(o),enterButton:"\u641C\u7D22",placeholder:"\u641C\u7D22\u5173\u952E\u6A21\u5757\u6807\u8BC6"})},e.createElement(Ce,{dataSource:v[0],columns:h,rowKey:"id",loading:d,pagination:{total:v[1],showTotal:o=>`\u5171 ${o} \u6A21\u5757`,showSizeChanger:!0,pageSize:r,current:t,onChange:(o,f)=>{s(o),n(f)}}}))}columns(t){return[{title:"\u6807\u8BC6",dataIndex:"name"},{title:"\u9ED8\u8BA4\u7248\u672C",dataIndex:"version"},{title:"\u6A21\u5757\u4F53\u79EF",dataIndex:"size",render(s){return Lt(s)}},{title:"\u63CF\u8FF0",dataIndex:"description"},{title:"\u4E0B\u8F7D\u91CF",render(){return 0}},{title:"",render:s=>{const[r,{loading:n},a]=this.HttpUserService.transferPackage(s.id);return c.exports.useEffect(()=>a({failed:l=>p.error(l.message),success:()=>p.success("\u8F6C\u8BA9\u6210\u529F").then(()=>t())}),[a]),s.auid==s.uid?e.createElement(E.Link,{disabled:n},"\u8F6C\u8BA9"):null}}]}};Et([w(q)],De.prototype,"HttpUserService",2);De=Et([S(),R("/packages"),I(Ue),I(T,{width:1200,top:24})],De);const Ss="_copyable_twgkb_1",Ps="_tip_twgkb_4",ks="_time_twgkb_14",As="_anticon_twgkb_18",Os="_markdown_twgkb_21",Ns="_line_twgkb_55",$s="_item_twgkb_60",Hs="_box_twgkb_80",Ms="_tips_twgkb_83",Rs="_user_twgkb_89",Is="_titleTime_twgkb_95";var L={copyable:Ss,tip:Ps,time:ks,anticon:As,markdown:Os,line:Ns,item:$s,box:Hs,tips:Ms,user:Rs,titleTime:Is},js=Object.defineProperty,Ts=Object.getOwnPropertyDescriptor,ht=(t,s,r,n)=>{for(var a=n>1?void 0:n?Ts(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&js(s,r,a),a};let xe=class{constructor(){_(this,"HttpPackageService")}render(){const t=He("scope"),s=He("pkg"),r=He("version"),n=c.exports.useMemo(()=>t?"@"+t+"/"+s:s,[t,s]),[a,{state:l,loading:u},v]=this.HttpPackageService.getPackage(),d=c.exports.useMemo(()=>{const C=r||l["dist-tags"].latest;return l.versions[C]},[r,l]),i=y(this.Info,this),h=y(this.versions,this),o=y(this.maintainers,this),f=y(this.title,this);return c.exports.useEffect(()=>v({failed:C=>C.status===404?p.warn("NPPM\u65E0\u6CD5\u641C\u7D22\u5230\u6B64\u6A21\u5757\uFF0C\u5C06\u8DF3\u8F6C\u81F3NPM\u5B98\u7F51\u641C\u7D22\uFF01").then(()=>window.location.href="https://www.npmjs.com/search?q="+n):p.error(C.message)}),[v]),c.exports.useEffect(()=>{n&&a(n)},[n]),e.createElement(O,{gutter:[24,24]},e.createElement(b,{span:17},e.createElement(j,{title:e.createElement(f,{namespace:n,time:!!d&&X(l.time[d.version]).format("YYYY-MM-DD HH:mm:ss")}),loading:u,className:L.markdown,extra:e.createElement(k,{type:"dashed"},"README.md")},l.readme?e.createElement(Ut,{rehypePlugins:[zt,qt,Gt],remarkPlugins:[Vt]},l.readme||"No Readme"):e.createElement(et,{image:et.PRESENTED_IMAGE_SIMPLE,description:l._nppm?"\u6682\u65E0\u6587\u6863":"\u65E0\u6CD5\u83B7\u5F97\u6B64\u6A21\u5757\u7684\u6587\u6863\uFF0C\u60A8\u53EF\u4EE5\u70B9\u51FB\u4EE5\u4E0B\u6309\u94AE\u53BB\u5B98\u7F51\u67E5\u770B"},e.createElement(k,{onClick:()=>window.location.href="https://www.npmjs.com/package/"+n},"\u53BB\u5B98\u7F51")))),e.createElement(b,{span:7},e.createElement(O,{gutter:[0,24]},d&&e.createElement(b,{span:24},e.createElement(i,{source:l,version:d})),d&&e.createElement(b,{span:24},e.createElement(h,{source:l,version:d})),d&&e.createElement(b,{span:24},e.createElement(o,{version:d})))))}box(t){return e.createElement("div",{className:L.box},e.createElement(E.Title,{level:5},t.title),e.createElement(Ze,{spinning:!!t.loading},e.createElement(F,{direction:"vertical",style:{width:"100%",overflow:"hidden"},size:16},t.children)))}Info(t){const s=y(this.box,this),r=c.exports.useMemo(()=>!!t.version.license&&!!t.version.homepage&&!!t.version.repository,[t.version]),n=t.version.keywords||[];return e.createElement(s,{title:"\u7B80\u4ECB",size:16},e.createElement(E.Text,{style:{color:"rgba(0, 0, 0, 0.45)"}},t.version.description||t.source.description),!!n.length&&e.createElement("div",{className:L.tags},n.map(a=>e.createElement(tt,{key:a,color:"volcano"},a))),r&&e.createElement(F,{direction:"vertical",size:0},t.version.license&&e.createElement("div",{className:L.item},e.createElement(Yt,null)," ",e.createElement(E.Link,{href:Wt(t.version.license),target:"_blank"},t.version.license)),t.version.homepage&&e.createElement("div",{className:L.item},e.createElement(Kt,null)," ",e.createElement(E.Link,{href:t.version.homepage,target:"_blank"},t.version.homepage)),t.version.repository&&t.version.repository.url&&e.createElement("div",{className:L.item},e.createElement(Qt,null)," ",e.createElement(E.Link,{ellipsis:!0,href:t.version.repository.url.replace(/^[^\+]+\+/,""),target:"_blank"},t.version.repository.url.replace(/^[^\+]+\+/,"")))),e.createElement(B,{className:"number",prefix:e.createElement(k,{type:"primary",danger:!0,size:"small",style:{marginRight:8}},"npm install"),value:t.version.name+(t.version.version?"@"+t.version.version:""),readOnly:!0,style:{paddingLeft:4},suffix:e.createElement(E.Paragraph,{style:{marginBottom:0},copyable:{text:"npm install "+t.version.name+(t.version.version?"@"+t.version.version:"")+" --registry="+window.location.origin}})}))}versions(t){const s=y(this.box,this),r=y(this.tip,this),n=c.exports.useMemo(()=>{const a=[];for(const l in t.source["dist-tags"])a.push({label:l,value:t.source["dist-tags"][l]});return a},[t.source["dist-tags"]]);return e.createElement(s,{title:e.createElement(r,{title:"\u7248\u672C",className:"number"},n.length,"/",Object.keys(t.source.versions).length),size:6},e.createElement(at.Group,{value:t.version.version},e.createElement(F,{direction:"vertical",size:6},n.map(a=>e.createElement(le,{key:a.label,checked:t.version?a.value===t.version.version:null},e.createElement(P,{align:"between",valign:"middle",scroll:"hide",style:{width:310}},e.createElement("span",{style:{marginRight:16}},a.label),e.createElement(P,{span:1,scroll:"hide",align:"right"},e.createElement(E.Text,{ellipsis:!0,style:{color:"rgba(0, 0, 0, 0.45)",fontSize:12},className:"number"},a.value))))))))}maintainers(t){const s=y(this.box,this),r=y(this.tip,this),[n,{state:a,loading:l},u]=this.HttpPackageService.getMaintainers(t.version.name),v=c.exports.useMemo(()=>a&&a.length?a:(t.version.maintainers||[]).map(d=>Object.assign(d,{avatar:Jt.url(d.email)})),[a]);return c.exports.useEffect(()=>u({failed:d=>p.error(d.message)}),[u,t.version]),c.exports.useEffect(()=>{t.version.name.startsWith("@")&&t.version.name.includes("/")&&n()},[t.version.name]),e.createElement(s,{title:e.createElement(r,{title:"\u8D21\u732E\u8005",className:"number"},v.length),size:0,loading:l},v.map(d=>e.createElement(P,{blocked:!0,align:"between",key:d.email,valign:"middle",className:L.user},e.createElement(F,null,e.createElement(z,{src:d.avatar}),e.createElement("span",null,d.name)),e.createElement(P,{span:1,scroll:"hide",align:"right",valign:"middle",style:{marginLeft:16}},e.createElement(E.Link,{className:"number",ellipsis:!0,title:d.email,href:"mailto:"+d.email},d.email)))))}tip(t){return e.createElement("div",{className:L.tips},t.title,e.createElement("span",{className:t.className},"(",t.children,")"))}title(t){return e.createElement(F,null,e.createElement(Xt,null),t.namespace," \u2022 ",e.createElement("span",{className:re(L.titleTime,"number")},t.time))}};ht([w(ie)],xe.prototype,"HttpPackageService",2);xe=ht([S(),R("/package/:pkg"),R("/package/:pkg/v/:version"),R("/package/@:scope/:pkg"),R("/package/@:scope/:pkg/v/:version"),I(T,{width:1200,top:24,bottom:24})],xe);const Ls="_box_184ec_1",Us="_labelName_184ec_1",zs="_submit_184ec_4";var V={box:Ls,labelName:Us,submit:zs};const qs="_box_1ytqh_1",Gs="_labelName_1ytqh_1",Vs="_submit_1ytqh_5",Ys="_login_1ytqh_8",Ws="_version_1ytqh_15",Ks="_desc_1ytqh_19",Qs="_active_1ytqh_27";var A={box:qs,labelName:Gs,submit:Vs,login:Ys,version:Ws,desc:Ks,active:Qs},Js=Object.defineProperty,Xs=Object.getOwnPropertyDescriptor,ze=(t,s,r,n)=>{for(var a=n>1?void 0:n?Xs(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Js(s,r,a),a};let he=class{constructor(){_(this,"HttpConfigsService");_(this,"HttpPluginService")}render(){const t=y(this.label,this),s=y(this.tagView,this),r=y(this.logins,this),[n,{state:a},l]=this.HttpConfigsService.getConfigs(),[u,{loading:v},d]=this.HttpConfigsService.saveConfigs(),[i,h]=c.exports.useState(null),[o,f]=c.exports.useState([]),[C,m]=c.exports.useState([]),[g,D]=c.exports.useState("default"),[se,ne]=c.exports.useState("packages"),[x,Ye]=c.exports.useState(!1);return c.exports.useEffect(()=>l({failed:M=>p.error(M.message)}),[l]),c.exports.useEffect(()=>d({failed:M=>p.error(M.message),success:()=>p.success("\u4FDD\u5B58\u914D\u7F6E\u6210\u529F")}),[d]),c.exports.useEffect(()=>{h(a.domain),f(a.scopes),m(a.registries),D(a.login_code),ne(a.dictionary),Ye(a.registerable)},[a]),c.exports.useEffect(()=>n(),[]),e.createElement(c.exports.Fragment,null,e.createElement(O,{gutter:[0,32],className:A.box},e.createElement(b,{span:24},e.createElement(t,{text:"\u7F51\u7AD9\u57DF\u540D"},e.createElement(B,{value:i,onChange:M=>h(M.target.value),placeholder:"\u4F8B\u5982 http://example.com",style:{width:400}}))),e.createElement(b,{span:24},e.createElement(t,{text:"\u6CE8\u518C"},e.createElement(le,{checked:x,onChange:M=>Ye(M.target.checked)},"\u5141\u8BB8\u5F00\u653E\u6574\u7AD9\u767B\u5F55\u6CE8\u518C"))),e.createElement(b,{span:24},e.createElement(t,{text:"\u7F51\u7AD9\u5141\u8BB8\u4F7F\u7528\u7684\u547D\u540D\u7A7A\u95F4"},e.createElement(s,{scopes:o,setScopes:f,addText:"\u6DFB\u52A0\u65B0\u547D\u540D\u7A7A\u95F4",inputPrefix:"@",format:M=>"@"+M,color:"purple"}))),e.createElement(b,{span:24},e.createElement(t,{text:"\u7F51\u7AD9\u5141\u8BB8\u4F7F\u7528\u7684\u540C\u6B65\u6E90"},e.createElement(s,{reverseable:!0,scopes:C,setScopes:m,addText:"\u6DFB\u52A0\u65B0\u7684\u540C\u6B65\u6E90",inputWidth:400,placeholder:"\u8BF7\u8F93\u5165\u79C1\u6709\u6E90\u7684\u5730\u5740",color:"volcano",extra:e.createElement(E.Paragraph,{style:{marginTop:12,fontSize:12,color:"#2db7f5",marginBottom:0}},e.createElement("strong",null,"\u6CE8\u610F\uFF1A"),"\u540C\u6B65\u6E90\u5177\u6709\u987A\u5E8F\u7279\u6027\uFF0C\u5728\u7A0B\u5E8F\u6267\u884C\u8FC7\u7A0B\u4E2D\uFF0C\u540C\u6B65\u6E90\u5C06\u5982\u4E0A\u987A\u5E8F\u83B7\u53D6\u5305\u5185\u5BB9\u4FE1\u606F\u3002")}))),e.createElement(b,{span:24},e.createElement(t,{text:"\u53D1\u5E03\u5305\u6587\u4EF6\u4FDD\u5B58\u6587\u4EF6\u5939\u5730\u5740"},e.createElement(B,{value:se,onChange:M=>ne(M.target.value),placeholder:"\u4F8B\u5982 packages",style:{width:200}}))),e.createElement(b,{span:24},e.createElement(t,{text:"\u9009\u62E9NPM\u547D\u4EE4\u884C\u9ED8\u8BA4\u767B\u5F55\u65B9\u5F0F"},e.createElement(r,{code:g,setCode:D}))),e.createElement(b,{span:24},e.createElement(k,{type:"primary",danger:!0,loading:v,onClick:()=>u({domain:i,registries:C,login_code:g,scopes:o,dictionary:se,registerable:x})},"\u4FDD\u5B58"))))}logins(t){const[s,{state:r},n]=this.HttpPluginService.getLogins();return c.exports.useEffect(()=>n({failed:a=>p.error(a.message)}),[n]),c.exports.useEffect(()=>s(),[]),e.createElement(O,{gutter:[24,24],style:{width:1e3}},e.createElement(b,{span:8},e.createElement(P,{valign:"top",blocked:!0,direction:"row",className:re(A.login,{[A.active]:t.code==="default"}),onClick:()=>t.setCode("default")},e.createElement(z,{style:{backgroundColor:"#EA2039"},size:"large"},"DEFAULT"),e.createElement(P,{span:1,direction:"column",scroll:"hide",style:{marginLeft:16}},e.createElement("div",{className:A.name},"NPM\u9ED8\u8BA4\u767B\u5F55"),e.createElement(E.Text,{ellipsis:!0,className:A.version},"default@0.0.0"),e.createElement(E.Paragraph,{className:A.desc,ellipsis:{rows:2}},"\u57FA\u4E8ENPM\u7684\u9ED8\u8BA4\u767B\u5F55\u65B9\u5F0F\uFF0C\u4EE5\u7528\u6237\u540D\u548C\u5BC6\u7801\u767B\u5F55\u4E3A\u4E3B\u3002")))),r.map(a=>e.createElement(b,{span:8,key:a.name},e.createElement(P,{valign:"top",blocked:!0,direction:"row",className:re(A.login,{[A.active]:t.code===a.name}),onClick:()=>t.setCode(a.name)},e.createElement(z,{src:a.plugin_icon,size:"large"}),e.createElement(P,{span:1,direction:"column",scroll:"hide",style:{marginLeft:16}},e.createElement("div",{className:A.name},a.plugin_name),e.createElement(E.Text,{ellipsis:!0,className:A.version},a.name,"@",a.version),e.createElement(E.Paragraph,{className:A.desc,ellipsis:{rows:2}},a.description))))))}label(t){return e.createElement(P,{blocked:!0,direction:"column"},e.createElement("div",{className:A.labelName},t.text),e.createElement("div",{className:A.labelValue},t.children))}tagView(t){const[s,r]=c.exports.useState(!1),[n,a]=c.exports.useState(null),l=c.exports.useRef(null),u=()=>{r(!0),setTimeout(()=>l.current.focus())},v=()=>{if(n){const i=t.scopes.slice(0);t.reverseable?i.unshift(t.format?t.format(n):n):i.push(t.format?t.format(n):n),t.setScopes(i),a(null),r(!1)}else a(null),r(!1)},d=i=>{const h=t.scopes.slice(0),o=h.findIndex(f=>f===i);o>-1&&(h.splice(o,1),t.setScopes(h))};return e.createElement("div",{className:A.tags},!!t.scopes.length&&e.createElement("div",{style:{marginBottom:16}},e.createElement(Zt,{enter:{scale:.8,opacity:0,type:"from",duration:100},onEnd:i=>{(i.type==="appear"||i.type==="enter")&&(i.target.style="display: inline-block")},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},t.scopes.map(i=>e.createElement("span",{key:i,style:{display:"inline-block"}},e.createElement(tt,{color:t.color,closable:!0,onClose:h=>{h.preventDefault(),d(i)}},i))))),e.createElement("div",{className:A.action},s&&e.createElement(B,{prefix:t.inputPrefix,ref:l,type:"text",style:{width:t.inputWidth||100},value:n,onChange:i=>a(i.target.value),onBlur:v,onPressEnter:v,placeholder:t.placeholder}),!s&&e.createElement(k,{onClick:u,icon:e.createElement(ea,null),type:"default"},t.addText||"\u6DFB\u52A0")),t.extra)}};ze([w(ce)],he.prototype,"HttpConfigsService",2);ze([w(ue)],he.prototype,"HttpPluginService",2);he=ze([S()],he);var Zs=Object.defineProperty,en=Object.getOwnPropertyDescriptor,Se=(t,s,r,n)=>{for(var a=n>1?void 0:n?en(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&Zs(s,r,a),a};const{TabPane:qe}=st;let ae=class{constructor(){_(this,"ORMSetupComponent");_(this,"HttpSetupService");_(this,"AdminWebsiteSettingComponent")}render(){const t=y(this.orm,this),s=y(this.redis,this),r=Y(this.AdminWebsiteSettingComponent);return e.createElement(j,{title:"\u7CFB\u7EDF\u8BBE\u7F6E"},e.createElement(st,{tabPosition:"left"},e.createElement(qe,{tab:"\u7F51\u7AD9\u5168\u5C40\u8BBE\u7F6E",key:"website"},e.createElement(r,null)),e.createElement(qe,{tab:"\u6570\u636E\u5E93\u7BA1\u7406",key:"orm"},e.createElement(t,null)),e.createElement(qe,{tab:"REDIS\u7BA1\u7406",key:"redis"},e.createElement(s,null))))}label(t){return e.createElement(P,{blocked:!0,valign:"middle"},e.createElement("div",{className:V.labelName},t.text),e.createElement("div",{className:V.labelValue},t.children))}orm(){const[t,{state:s},r]=this.HttpSetupService.getORMState(),[n,{loading:a},l]=this.HttpSetupService.setORMState(),u=y(this.label,this),[v,d]=c.exports.useState("mysql"),[i,h]=c.exports.useState(null),[o,f]=c.exports.useState(null),[C,m]=c.exports.useState(null),[g,D]=c.exports.useState(null),[se,ne]=c.exports.useState(null);return c.exports.useEffect(()=>{d(s.type),h(s.host),f(s.port),m(s.username),D(s.password),ne(s.database)},[s]),c.exports.useEffect(()=>r({failed:x=>p.error(x.message)}),[r]),c.exports.useEffect(()=>l({failed:x=>p.error(x.message),success:()=>p.success("\u66F4\u65B0\u6570\u636E\u5E93\u8BBE\u7F6E\u6210\u529F")}),[l]),c.exports.useEffect(()=>t(),[]),e.createElement("div",{className:V.box},e.createElement(O,{gutter:[0,16],className:V.box},e.createElement(b,{span:24},e.createElement(u,{text:"\u6570\u636E\u5E93\u9009\u62E9"},e.createElement(Z,{disabled:a,options:this.ORMSetupComponent.dataBaseTypes,value:v,onChange:x=>d(x)}))),e.createElement(b,{span:24},e.createElement(u,{text:"\u6570\u636E\u5E93\u5730\u5740"},e.createElement(B,{disabled:a,value:i,onChange:x=>h(x.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:300}}))),e.createElement(b,{span:24},e.createElement(u,{text:"\u6570\u636E\u5E93\u7AEF\u53E3"},e.createElement(W,{disabled:a,value:o,onChange:x=>f(x),placeholder:"\u4F8B\u5982 8642",step:1,min:3e3,style:{width:100}}))),e.createElement(b,{span:24},e.createElement(u,{text:"\u6570\u636E\u5E93\u8D26\u53F7"},e.createElement(B,{disabled:a,value:C,onChange:x=>m(x.target.value),placeholder:"\u4F8B\u5982 admin",style:{width:300}}))),e.createElement(b,{span:24},e.createElement(u,{text:"\u6570\u636E\u5E93\u5BC6\u7801"},e.createElement(B,{disabled:a,value:g,onChange:x=>D(x.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:300}}))),e.createElement(b,{span:24},e.createElement(u,{text:"\u6570\u636E\u5E93\u540D\u79F0"},e.createElement(B,{disabled:a,value:se,onChange:x=>ne(x.target.value),placeholder:"\u4F8B\u5982 mysql_database",style:{width:300}})))),e.createElement(k,{type:"primary",className:V.submit,onClick:()=>n({type:v,host:i,port:o,username:C,password:g,database:se})},"\u66F4\u65B0"))}redis(){const[t,{state:s},r]=this.HttpSetupService.getRedisState(),[n,{loading:a},l]=this.HttpSetupService.setRedisState(),u=y(this.label,this),[v,d]=c.exports.useState(null),[i,h]=c.exports.useState(null),[o,f]=c.exports.useState(null),[C,m]=c.exports.useState(null);return c.exports.useEffect(()=>{d(s.host),h(s.port),f(s.password),m(s.db)},[s]),c.exports.useEffect(()=>r({failed:g=>p.error(g.message)}),[r]),c.exports.useEffect(()=>l({failed:g=>p.error(g.message),success:()=>p.success("\u66F4\u65B0REDIS\u8BBE\u7F6E\u6210\u529F")}),[l]),c.exports.useEffect(()=>t(),[]),e.createElement("div",{className:V.box},e.createElement(O,{gutter:[0,16],className:V.box},e.createElement(b,{span:24},e.createElement(u,{text:"REDIS\u5730\u5740"},e.createElement(B,{disabled:a,value:v,onChange:g=>d(g.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:300}}))),e.createElement(b,{span:24},e.createElement(u,{text:"REDIS\u7AEF\u53E3"},e.createElement(W,{disabled:a,value:i,onChange:g=>h(g),placeholder:"\u4F8B\u5982 6379",step:1,style:{width:100}}))),e.createElement(b,{span:24},e.createElement(u,{text:"REDIS\u5BC6\u7801"},e.createElement(B,{disabled:a,value:o,onChange:g=>f(g.target.value),placeholder:"\u4F8B\u5982 admin888 \u9009\u586B",type:"password",style:{width:300}}))),e.createElement(b,{span:24},e.createElement(u,{text:"REDIS\u901A\u9053"},e.createElement(W,{disabled:a,value:C,onChange:g=>m(g),placeholder:"\u4F8B\u5982 0 \u9009\u586B",step:1,min:0,style:{width:60}})))),e.createElement(k,{type:"primary",className:V.submit,onClick:()=>n({host:v,port:i,password:o,db:C})},"\u66F4\u65B0"))}};Se([w(de)],ae.prototype,"ORMSetupComponent",2);Se([w(Q)],ae.prototype,"HttpSetupService",2);Se([w(he)],ae.prototype,"AdminWebsiteSettingComponent",2);ae=Se([S(),R("/admin/settings"),I(Ee),I(T,{width:1200,top:24})],ae);var tn=Object.defineProperty,an=Object.getOwnPropertyDescriptor,Ge=(t,s,r,n)=>{for(var a=n>1?void 0:n?an(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&tn(s,r,a),a};const sn=le.Group;let ge=class{constructor(){_(this,"HttpPluginService");_(this,"HttpConfigsService");_(this,"components",{input:y(this.inputComponent,this),select:y(this.selectComponent,this),radio:y(this.radioComponent,this),switch:y(this.switchComponent,this),checkbox:y(this.checkboxComponent,this)})}render(){const t=y(this.install,this),[s,{state:r,loading:n},a]=this.HttpPluginService.getPlugins();return c.exports.useEffect(()=>a({failed:l=>p.error(l.message)}),[a]),c.exports.useEffect(()=>s(),[]),e.createElement(j,{title:"\u5DF2\u5B89\u88C5\u7684\u63D2\u4EF6",extra:e.createElement(t,{refech:s})},e.createElement(Ce,{loading:n,dataSource:r,columns:this.columns(s),pagination:!1,rowKey:"name"}))}columns(t){const s=y(this.setting,this);return[{title:"\u540D\u79F0",render(r){return e.createElement(F,null,e.createElement(z,{src:r.plugin_icon}),r.plugin_name)}},{title:"\u6807\u8BC6",dataIndex:"name"},{title:"\u7248\u672C",dataIndex:"version"},{title:"\u63CF\u8FF0",dataIndex:"description",ellipsis:!0,width:500},{title:"\u64CD\u4F5C",width:100,align:"center",render:r=>{const[n,{loading:a},l]=this.HttpPluginService.uninstall(r.name);return c.exports.useEffect(()=>l({failed:u=>p.error(u.message),success:()=>p.success("\u5378\u8F7D\u6210\u529F").then(t)}),[l]),e.createElement(F,null,r.plugin_configs&&r.plugin_configs.length?e.createElement(s,{name:r.name,configs:r.plugin_configs,success:t}):null,e.createElement(ta,{title:"\u786E\u5B9A\u8981\u5378\u8F7D\u6B64\u63D2\u4EF6\uFF1F",onConfirm:()=>n(),cancelText:"\u653E\u5F03",okText:"\u5378\u8F7D"},e.createElement(E.Link,{disabled:a},"\u5378\u8F7D")))}}]}setting(t){const[s,r]=c.exports.useState(!1),[n,a]=c.exports.useState({}),[l,{loading:u},v]=this.HttpPluginService.savePluginConfigs(t.name),d=(i,h)=>{const o=Je(n,[]);a(Qe(Ae({},o),{[i]:h}))};return c.exports.useEffect(()=>v({failed:i=>p.error(i.message),success:()=>p.success("\u66F4\u65B0\u914D\u7F6E\u6210\u529F").then(()=>r(!1)).then(t.success)}),[v]),c.exports.useEffect(()=>{const i={};t.configs.forEach(h=>i[h.key]=h.value),a(i)},[t.configs]),e.createElement(c.exports.Fragment,null,e.createElement(E.Link,{disabled:u,onClick:()=>r(!0)},"\u8BBE\u7F6E"),e.createElement($e,{title:"\u66F4\u65B0\u914D\u7F6E",visible:s,confirmLoading:u,onOk:()=>l(n),onCancel:()=>r(!1),cancelText:"\u53D6\u6D88",okText:"\u66F4\u65B0"},e.createElement(O,{gutter:[0,16]},t.configs.map(i=>{switch(i.type){case"input":const h=this.components.input;return e.createElement(b,{span:24,key:i.key},e.createElement(F,{direction:"vertical",style:{width:"100%"}},e.createElement("span",null,i.title),e.createElement(h,{key:i.key,placeholder:i.placeholder,value:n[i.key],onChange:g=>d(i.key,g),mode:i.mode,width:i.width})));case"select":const o=this.components.select;return e.createElement(b,{span:24,key:i.key},e.createElement(F,{direction:"vertical",style:{width:"100%"}},e.createElement("span",null,i.title),e.createElement(o,{key:i.key,placeholder:i.placeholder,value:n[i.key],onChange:g=>d(i.key,g),fields:i.fields,width:i.width})));case"radio":const f=this.components.radio;return e.createElement(b,{span:24,key:i.key},e.createElement(F,{direction:"vertical",style:{width:"100%"}},e.createElement("span",null,i.title),e.createElement(f,{key:i.key,value:n[i.key],onChange:g=>d(i.key,g),fields:i.fields})));case"switch":const C=this.components.switch;return e.createElement(b,{span:24,key:i.key},e.createElement(F,{direction:"vertical",style:{width:"100%"}},e.createElement("span",null,i.title),e.createElement(C,{key:i.key,value:n[i.key],placeholder:i.placeholder,onChange:g=>d(i.key,g)})));case"checkbox":const m=this.components.checkbox;return e.createElement(b,{span:24,key:i.key},e.createElement(F,{direction:"vertical",style:{width:"100%"}},e.createElement("span",null,i.title),e.createElement(m,{key:i.key,value:n[i.key],fields:i.fields,span:i.span,gutter:i.gutter,onChange:g=>d(i.key,g)})))}}))))}install(t){const[s,r]=c.exports.useState(!1),[n,a]=c.exports.useState(null),[l,u]=c.exports.useState(!1),[v,d]=c.exports.useState(null),[i,{loading:h},o]=this.HttpPluginService.install(),[f,{state:C},m]=this.HttpConfigsService.getConfigs(),g=c.exports.useMemo(()=>C.registries.map(D=>({label:D,value:D})),[C]);return c.exports.useEffect(()=>m({failed:D=>p.error(D.message)}),[m]),c.exports.useEffect(()=>f(),[]),c.exports.useEffect(()=>d(C.registries[0]),[C]),c.exports.useEffect(()=>o({failed:D=>p.error(D),success:()=>p.success("\u5B89\u88C5\u6210\u529F").then(()=>r(!1)).then(t.refech)}),[o,t.refech]),e.createElement(c.exports.Fragment,null,e.createElement(k,{type:"primary",onClick:()=>r(!0)},"\u5B89\u88C5\u63D2\u4EF6"),e.createElement($e,{title:"\u5B89\u88C5\u65B0\u63D2\u4EF6",visible:s,onOk:()=>i({name:n,dev:l,registry:v}),onCancel:()=>r(!1),cancelText:"\u53D6\u6D88",okText:"\u5B89\u88C5",confirmLoading:h},e.createElement(O,{gutter:[0,16]},e.createElement(b,{span:24},e.createElement(F,{direction:"vertical",style:{width:"100%"}},e.createElement("span",null,"\u63D2\u4EF6\u6807\u8BC6"),e.createElement(B,{disabled:h,value:n,onChange:D=>a(D.target.value),placeholder:"\u63D2\u4EF6\u7684\u6807\u8BC6 \u5982\uFF1A@nppm/dingtalk@1.0.0 \u7248\u672C\u53F7\u53EF\u7701\u7565",style:{width:"100%"}}),e.createElement("span",{style:{fontSize:12,color:"rgb(45, 183, 245)"}},"\u6CE8\u610F\uFF1A\u5982\u679C\u9009\u62E9\u5F00\u53D1\u8C03\u8BD5\uFF0C\u8BF7\u8F93\u5165\u63D2\u4EF6\u6587\u4EF6\u5939\u8DEF\u5F84"))),e.createElement(b,{span:24},e.createElement(le,{disabled:h,onChange:D=>u(D.target.checked),checked:l},"\u672C\u5730\u5F00\u53D1\u8C03\u8BD5")),l?null:e.createElement(b,{span:24},e.createElement(F,{direction:"vertical",style:{width:"100%"}},e.createElement("span",null,"\u4E0B\u8F7D\u63D2\u4EF6\u540C\u6B65\u6E90\u9009\u62E9"),e.createElement(Z,{disabled:h,value:v,style:{width:"100%"},onChange:D=>d(D),options:g}))))))}inputComponent(t){return t.mode==="number"?e.createElement(W,{placeholder:t.placeholder,value:t.value,onChange:s=>t.onChange(s),style:{width:t.width}}):t.mode==="textarea"?e.createElement(B.TextArea,{placeholder:t.placeholder,value:t.value,onChange:s=>t.onChange(s.target.value),autoSize:!0,allowClear:!0,style:{width:t.width}}):e.createElement(B,{placeholder:t.placeholder,value:t.value,onChange:s=>t.onChange(s.target.value),allowClear:!0,type:t.mode,style:{width:t.width}})}selectComponent(t){return e.createElement(Z,{value:t.value,options:t.fields,style:{width:t.width},onChange:s=>t.onChange(s),placeholder:t.placeholder})}radioComponent(t){return e.createElement(at.Group,{onChange:s=>t.onChange(s.target.value),value:t.value,options:t.fields})}switchComponent(t){return e.createElement(Me,{checkedChildren:t.placeholder[0],unCheckedChildren:t.placeholder[1],checked:t.value,onChange:s=>t.onChange(s)})}checkboxComponent(t){return e.createElement(sn,{value:t.value,onChange:s=>t.onChange(s),style:{width:"100%"}},e.createElement(O,{gutter:t.gutter},t.fields.map(s=>e.createElement(b,{span:t.span,key:s.value},e.createElement(le,{value:s.value},s.label)))))}};Ge([w(ue)],ge.prototype,"HttpPluginService",2);Ge([w(ce)],ge.prototype,"HttpConfigsService",2);ge=Ge([S(),R("/admin/plugins"),I(Ee),I(T,{width:1200,top:24})],ge);var nn=Object.defineProperty,rn=Object.getOwnPropertyDescriptor,gt=(t,s,r,n)=>{for(var a=n>1?void 0:n?rn(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&nn(s,r,a),a};let Pe=class{constructor(){_(this,"HttpUserService")}render(){const[t,s]=c.exports.useState(1),[r,n]=c.exports.useState(10),[a,l]=c.exports.useState(),[u,{state:v,loading:d},i]=this.HttpUserService.getUsers(),h=c.exports.useMemo(()=>this.columns(),[]);return c.exports.useEffect(()=>i({failed:o=>p.error(o.message)}),[i]),c.exports.useEffect(()=>u(t,r,a),[t,r,a]),c.exports.useEffect(()=>{a&&s(1)},[a]),e.createElement(j,{title:"\u5DF2\u6CE8\u518C\u7684\u7528\u6237",extra:e.createElement(B.Search,{onChange:o=>!o.target.value&&l(void 0),onSearch:o=>l(o),enterButton:"\u641C\u7D22",placeholder:"\u641C\u7D22\u5173\u952E\u8D26\u53F7\u6216\u8005\u6635\u79F0"})},e.createElement(Ce,{dataSource:v[0],columns:h,rowKey:"id",loading:d,pagination:{total:v[1],showTotal:o=>`\u5171 ${o} \u7528\u6237`,showSizeChanger:!0,pageSize:r,current:t,onChange:(o,f)=>{s(o),n(f)}}}))}columns(){return[{title:"\u7528\u6237",render(t){return e.createElement(F,null,e.createElement(z,{src:t.avatar}),t.nickname)}},{title:"\u8D26\u53F7",dataIndex:"account"},{title:"\u90AE\u7BB1",dataIndex:"email"},{title:"\u6CE8\u518C\u7C7B\u578B",dataIndex:"login_code"},{title:"\u7BA1\u7406\u5458",render:t=>{const[s,r]=c.exports.useState(!1),[n,{loading:a},l]=this.HttpUserService.changeUserAdminStatus(t.id);return c.exports.useEffect(()=>l({failed:u=>p.error(u.message),success:u=>(r(u.admin),p.success("\u66F4\u65B0\u7BA1\u7406\u5458\u72B6\u6001\u6210\u529F"))}),[l]),c.exports.useEffect(()=>r(t.admin),[t]),e.createElement(Me,{loading:a,checked:s,onChange:()=>n(!s),checkedChildren:"\u662F",unCheckedChildren:"\u5426"})}},{title:"\u6CE8\u518C\u65F6\u95F4",dataIndex:"gmt_create",render(t){return e.createElement("span",{className:"number"},X(t).format("YYYY-MM-DD HH:mm:ss"))}},{title:"\u6700\u8FD1\u767B\u5F55\u65F6\u95F4",dataIndex:"gmt_modified",render(t){return e.createElement("span",{className:"number"},X(t).format("YYYY-MM-DD HH:mm:ss"))}},{title:"\u767B\u5F55",align:"center",render:t=>{const[s,r]=c.exports.useState(!1),[n,{loading:a},l]=this.HttpUserService.changeUserAdminForbiddenStatus(t.id);return c.exports.useEffect(()=>l({failed:u=>p.error(u.message),success:u=>(r(u.login_forbiden),p.success("\u66F4\u65B0\u7BA1\u7406\u5458\u72B6\u6001\u6210\u529F"))}),[l]),c.exports.useEffect(()=>r(t.login_forbiden),[t]),e.createElement(Me,{loading:a,checked:!s,onChange:()=>n(!s),checkedChildren:"\u5141\u8BB8",unCheckedChildren:"\u7981\u6B62"})}}]}};gt([w(q)],Pe.prototype,"HttpUserService",2);Pe=gt([S(),R("/admin/users"),I(Ee),I(T,{width:1200,top:24})],Pe);var ln=Object.defineProperty,un=Object.getOwnPropertyDescriptor,cn=(t,s,r,n)=>{for(var a=n>1?void 0:n?un(s,r):s,l=t.length-1,u;l>=0;l--)(u=t[l])&&(a=(n?u(s,r,a):u(a))||a);return n&&a&&ln(s,r,a),a};let Ve=class{render(){return e.createElement("div",null,"dsfa")}};Ve=cn([S(),R("/docs"),I(T,{width:1200,top:24})],Ve);function on(t){t(te),t(ae),t(ge),t(Pe),t(De),t(xe),t(Ve)}const{bootstrap:mn,defineController:dn,useGlobalMiddlewares:vt,createNotFoundComponent:pn}=aa();vt(J);vt(_e);on(dn);pn(()=>e.createElement(na,null));mn("popstate",document.getElementById("root"));
