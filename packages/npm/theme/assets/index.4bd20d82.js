var Mt=Object.defineProperty,$t=Object.defineProperties;var It=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var mt=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var Ve=(t,n,u)=>n in t?Mt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[n]=u,ae=(t,n)=>{for(var u in n||(n={}))mt.call(n,u)&&Ve(t,u,n[u]);if(Ae)for(var u of Ae(n))dt.call(n,u)&&Ve(t,u,n[u]);return t},he=(t,n)=>$t(t,It(n));var Et=(t,n)=>{var u={};for(var r in t)mt.call(t,r)&&n.indexOf(r)<0&&(u[r]=t[r]);if(t!=null&&Ae)for(var r of Ae(t))n.indexOf(r)<0&&dt.call(t,r)&&(u[r]=t[r]);return u};var C=(t,n,u)=>(Ve(t,typeof n!="symbol"?n+"":n,u),u);import{R as e,_ as Ye,B as U,r as k,a as zt,b as i,c as Q,F as y,d as f,e as ee,G as vt,C as Rt,f as M,E as Lt,g as ue,h as z,D as qt,i as jt,S as _t,T as Ge,A as Ct,U as Me,j as st,I as Ut,k as bt,u as Ke,l as v,m as Ht,n as x,o as Vt,p as D,q as g,s as Yt,t as Y,v as Gt,w as Kt,x as K,y as ve,z as $,H as P,L as gt,J as Qt,K as Wt,M as re,N as se,O as le,P as Zt,Q as yt,V as Jt,W as F,X as H,Y as I,Z as Xt,$ as en,a0 as tn,a1 as nn,a2 as me,a3 as de,a4 as _e,a5 as ne,a6 as j,a7 as Z,a8 as ke,a9 as Pe,aa as Qe,ab as We,ac as Ce,ad as Bt,ae as De,af as $e,ag as an,ah as un,ai as rn,aj as be,ak as Dt,al as te,am as je,an as xt,ao as St,ap as sn,aq as ln,ar as cn,as as on,at as mn,au as dn,av as En,aw as gn,ax as pn,ay as hn,az as Fn,aA as fn,aB as vn,aC as _n,aD as Ie,aE as Cn,aF as pt,aG as bn,aH as yn,aI as Bn,aJ as Dn}from"./vendor.3715591e.js";const xn=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function u(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=u(a);fetch(a.href,s)}};xn();function Sn(){return e.createElement(Ye,{status:"404",title:"404",subTitle:"\u5BF9\u4E0D\u8D77\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728\uFF01",extra:e.createElement(U,{type:"primary",onClick:()=>k("/")},"\u56DE\u9996\u9875")})}const b=zt.create({baseURL:"/~"});b.interceptors.response.use(t=>t,t=>t.response?Promise.reject(new Error(t.response.data||t.response.statusText)):Promise.reject(t));function wn(){return{id:0,account:null,nickname:null,email:null,login_code:"default",avatar:null,scopes:[],admin:!1,gmt_create:new Date,gmt_modified:new Date,login_forbiden:!1}}const wt=wn(),Ee=i.exports.createContext(wt),At=i.exports.createContext({version:"0.0.0"});async function An(){return(await b.get("/setup/mode")).data}function kn(t){return b.post("/setup/orm",t)}function Pn(t){return b.post("/setup/redis",t)}function Nn(t){return b.post("/user",t)}async function On(){return(await b.get("/user")).data}var ht=[{label:"MongoDB",value:"mongodb"},{label:"MsSQL",value:"mssql"},{label:"MySQL",value:"mysql"},{label:"Oracle",value:"oracle"},{label:"Postgres",value:"postgres"}];const Tn="_wraper_1gfai_1",Mn="_header_1gfai_10",$n="_action_1gfai_17",In="_traffic_1gfai_21",zn="_windowIcon_1gfai_21",Rn="_windowClose_1gfai_27",Ln="_windowMinimize_1gfai_30",qn="_windowFullScreen_1gfai_34",jn="_title_1gfai_39",Un="_body_1gfai_50";var W={wraper:Tn,header:Mn,action:$n,traffic:In,windowIcon:zn,windowClose:Rn,windowMinimize:Ln,windowFullScreen:qn,title:jn,body:Un};function lt(t){return e.createElement("div",{className:Q(W.wraper,t.className),style:t.style},e.createElement("div",{className:W.header},e.createElement("div",{className:W.action},t.traffic&&e.createElement("div",{className:W.traffic},e.createElement("div",{className:Q(W.windowIcon,W.windowClose)}),e.createElement("div",{className:Q(W.windowIcon,W.windowMinimize)}),e.createElement("div",{className:Q(W.windowIcon,W.windowFullScreen)})),t.extra),!!t.title&&e.createElement("div",{className:W.title},t.title)),e.createElement("div",{className:W.body},t.children))}const Hn="_copyright_1yqiw_5";var Vn={copyright:Hn};function Yn(t){return e.createElement(i.exports.Fragment,null,t.children,e.createElement(y,{blocked:!0,align:"center",valign:"middle",direction:"column",className:Vn.copyright},e.createElement(f.Text,null,e.createElement("span",null,"Node Private Package Manager"),e.createElement(ee,{type:"vertical"}),e.createElement("span",null,"MIT Licensed"),e.createElement(ee,{type:"vertical"}),e.createElement(f.Link,{href:"https://github.com/cevio/nppm",target:"_blank"},e.createElement(vt,null))),e.createElement(f.Text,null,e.createElement("span",null,"Copyright ",e.createElement(Rt,null),"2019-present"),e.createElement(ee,{type:"vertical"}),e.createElement(M,null,e.createElement(f.Link,{href:"https://github.com/cevio",target:"_blank"},"Evio Shen"),e.createElement("span",null,"All Rights Reserved.")))))}const Gn="_layout_5646r_5",Kn="_container_5646r_5",Qn="_banner_5646r_10",Wn="_slogen_5646r_15",Zn="_head_5646r_22",Jn="_search_5646r_28",Xn="_searcher_5646r_32",ea="_searchIcon_5646r_37",ta="_logo_5646r_40",na="_content_5646r_43",aa="_navs_5646r_46",ua="_title_5646r_49",ra="_nav_5646r_46",sa="_loginModule_5646r_62";var L={layout:Gn,container:Kn,banner:Qn,slogen:Wn,head:Zn,search:Jn,searcher:Xn,searchIcon:ea,logo:ta,content:na,navs:aa,title:ua,nav:ra,loginModule:sa};function Ft(t){return e.createElement("svg",ae({viewBox:"0 0 780 250"},t),e.createElement("path",{fill:t.color||"#231F20",d:"M240,250h100v-50h100V0H240V250z M340,50h50v100h-50V50z M480,0v200h100V50h50v150h50V50h50v150h50V0H480z M0,200h100V50h50v150h50V0H0V200z"}))}function la(t,n){return b.post("/webLogin?type="+t,n)}function ca(){return b.delete("/webLogout")}async function ia(){return(await b.get("/plugin/logins")).data}function oa(t){return e.createElement(M,null,e.createElement(Lt,null),e.createElement(ue,null,e.createElement(ue.Item,null,"\u5DE5\u4F5C\u53F0"),e.createElement(ue.Item,null,t.group),e.createElement(ue.Item,null,t.space)))}var ma=Object.defineProperty,da=Object.getOwnPropertyDescriptor,Ea=(t,n,u,r)=>{for(var a=r>1?void 0:r?da(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&ma(n,u,a),a};let G=class{constructor(){C(this,"setAdminDisabled",t=>!(t==null?void 0:t.admin));C(this,"setUserDisabled",t=>!(t==null?void 0:t.id));C(this,"navs",[{label:"\u7BA1\u7406\u4E2D\u5FC3",key:"admin",children:[{label:"\u6570\u636E\u5E93\u914D\u7F6E",key:"orm",url:"/admin/setting/orm",icon:e.createElement(qt,null),disabled:this.setAdminDisabled.bind(this)},{label:"Redis\u914D\u7F6E",key:"redis",url:"/admin/setting/redis",icon:e.createElement(jt,null),disabled:this.setAdminDisabled.bind(this)},{label:"\u6574\u7AD9\u57FA\u672C\u8BBE\u7F6E",key:"setting",url:"/admin/setting/base",icon:e.createElement(_t,null),disabled:this.setAdminDisabled.bind(this)},{label:"\u6CE8\u518C\u7528\u6237\u7BA1\u7406",key:"user",url:"/admin/users",icon:e.createElement(Ge,null),disabled:this.setAdminDisabled.bind(this)},{label:"\u63D2\u4EF6\u5B89\u88C5\u53CA\u7BA1\u7406",key:"plugin",url:"/admin/plugins",icon:e.createElement(Ct,null),disabled:this.setAdminDisabled.bind(this)}]},{label:"\u4E2A\u4EBA\u4E2D\u5FC3",key:"base",children:[{label:"\u6211\u7684\u4FE1\u606F",key:"scope",url:"/user",icon:e.createElement(Me,null),match:t=>/^\/user\/\d+$/.test(t),disabled:this.setUserDisabled.bind(this)},{label:"\u6211\u7684\u6536\u85CF",key:"like",url:"/stars",icon:e.createElement(st,null),disabled:this.setUserDisabled.bind(this)}]},{label:"\u6570\u636E\u7EDF\u8BA1",key:"rank",children:[{label:"\u6A21\u5757\u6536\u85CF\u699C",key:"stars",url:"/rank/stars",icon:e.createElement(Ut,null)},{label:"\u6A21\u5757\u4E0B\u8F7D\u699C",key:"downloads",url:"/rank/downloads",icon:e.createElement(bt,null)}]}])}render(t){const n=Ke(c=>c.pathname),u=v(this.banner_navs,this),r=v(this.chooseUserOrLogin,this),a=v(this.content,this),s=i.exports.useContext(Ee),l=c=>{if(!!c)return k("/search?q="+encodeURIComponent(c)+"&t="+(c.startsWith("@")?"private":"public"))};return e.createElement("div",{className:L.layout},e.createElement("div",{className:L.banner},e.createElement(y,{className:L.container,align:"between",valign:"middle"},e.createElement(M,{className:L.slogen},e.createElement(Ht,null),"Node Private Package Manager"),e.createElement(u,null))),e.createElement("div",{className:L.head},e.createElement(y,{className:L.container,valign:"middle",align:"between"},e.createElement(Ft,{width:70,onClick:()=>k("/"),className:L.logo}),e.createElement(y,{span:1,valign:"middle",className:L.search},e.createElement(x,{placeholder:"Search Packages",bordered:!1,prefix:e.createElement(Vt,{className:L.searchIcon}),className:L.searcher,onPressEnter:c=>l(c.currentTarget.value)})),e.createElement(r,null))),e.createElement("div",{className:Q(L.container,L.content)},e.createElement(D,{gutter:24},e.createElement(g,{span:5},e.createElement(Yt,{offsetTop:24},e.createElement("div",null,this.navs.map(c=>e.createElement("div",{className:L.navs,key:c.key},e.createElement(f.Paragraph,{className:L.title},c.label),e.createElement("ul",null,c.children.map(m=>{const d=(m.match?m.match(n,m.url):n===m.url)||n===m.url,o=typeof m.disabled=="boolean"?m.disabled:typeof m.disabled=="function"?m.disabled(s):!1;return e.createElement("li",{key:c.key+":"+m.key,className:L.nav},e.createElement(y,{align:"between",valign:"middle"},e.createElement(f.Link,{onClick:()=>n!==m.url&&k(m.url),disabled:o},e.createElement(M,null,e.createElement("span",null,m.icon),e.createElement("span",null,m.label))),d?e.createElement(Y,{status:"processing"}):e.createElement(Y,{status:"default"})))}))))))),e.createElement(g,{span:19},t.login&&!s.id?e.createElement(Ye,{status:"403",title:"403",subTitle:"\u62B1\u6B49\uFF0C\u6B64\u9875\u9762\u4EC5\u5BF9\u767B\u5F55\u7528\u6237\u5F00\u653E",extra:e.createElement(U,{type:"primary",onClick:()=>k("/")},"\u56DE\u9996\u9875")}):t.admin&&!s.admin?e.createElement(Ye,{status:"403",title:"403",subTitle:"\u62B1\u6B49\uFF0C\u6B64\u9875\u9762\u4EC5\u5BF9\u7BA1\u7406\u5458\u5F00\u653E",extra:e.createElement(U,{type:"primary",onClick:()=>k("/")},"\u56DE\u9996\u9875")}):e.createElement(a,null,t.children)))))}content(t){const[n,u]=i.exports.useState(null),[r,a]=i.exports.useState(null),s=Ke(l=>l.pathname);return i.exports.useEffect(()=>{let l=!1;for(let c=0;c<this.navs.length;c++){const m=this.navs[c];for(let d=0;d<m.children.length;d++){const o=m.children[d];if((o.match?o.match(s,o.url):s===o.url)||s===o.url){u(m.label),a(o.label),l=!0;break}}}l||(u(null),a(null))},[s]),e.createElement(D,{gutter:[24,24]},!!n&&!!r&&e.createElement(g,{span:24},e.createElement(oa,{group:n,space:r})),e.createElement(g,{span:24},t.children))}banner_navs(){const t=i.exports.useContext(At);return e.createElement(ue,{separator:e.createElement(ee,{type:"vertical"})},e.createElement(ue.Item,null,e.createElement(f.Link,{href:"https://cevio.github.io/nppm/",target:"_blank"},e.createElement(Gt,null)," \u6587\u6863")),e.createElement(ue.Item,null,e.createElement(f.Link,{href:"https://github.com/cevio/nppm/issues",target:"_blank"},e.createElement(Kt,null)," \u8BA8\u8BBA")),e.createElement(ue.Item,null,e.createElement(f.Link,{href:"https://github.com/cevio/nppm",target:"_blank"},e.createElement(vt,null)," GitHub")),e.createElement(ue.Item,null,e.createElement(K,{style:{cursor:"pointer"},color:"success",onClick:()=>k("/package/@nppm/npm?tab=versions")},"v",t.version)))}chooseUserOrLogin(){const t=i.exports.useContext(Ee),n=v(this.user,this),u=v(this.loginButton,this);return t.id>0?e.createElement(n,null):e.createElement(u,null)}loginButton(){const[t,n]=i.exports.useState(!1),u=v(this.loginModal,this);return e.createElement(i.exports.Fragment,null,e.createElement(U,{type:"primary",onClick:()=>n(!0)},"\u767B\u5F55"),e.createElement(ve,{title:null,footer:null,visible:t,onCancel:()=>n(!1),width:400},e.createElement(u,{onCancel:()=>n(!1)})))}loginModal(t){const[n,u]=i.exports.useState(!1),[r,a]=i.exports.useState(null),[s,l]=i.exports.useState(null),{loading:c,execute:m}=$(la),d=P(ia,[]),o=i.exports.useMemo(()=>d?d.result?d.result:[]:[],[d==null?void 0:d.result]),p=()=>{m("default",{username:r,password:s}).then(()=>F.success("\u767B\u5F55\u6210\u529F")).then(()=>{a(null),l(null),t.onCancel()}).then(()=>window.location.reload()).catch(E=>F.error(E.message))},h=E=>{m(E,{redirect:window.location.href}).then(_=>window.location.href=_.data.loginUrl).catch(_=>F.error(_.message))};return e.createElement(y,{direction:"column",align:"center",valign:"middle"},e.createElement(f.Paragraph,null,e.createElement(Ft,{color:"#13bf89",width:100})),e.createElement(f.Paragraph,null,"Node Private Package Manager"),e.createElement(f.Paragraph,null,e.createElement(x,{disabled:c,size:"large",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",style:{width:300},prefix:e.createElement(Me,null),value:r,onChange:E=>a(E.target.value)})),e.createElement(f.Paragraph,null,e.createElement(x,{size:"large",disabled:c,type:n?"text":"password",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",style:{width:300},prefix:e.createElement(gt,null),value:s,onChange:E=>l(E.target.value),suffix:e.createElement("span",{style:{cursor:"pointer"},onClick:()=>u(!n)},n?e.createElement(Qt,null):e.createElement(Wt,null))})),e.createElement(f.Paragraph,{style:{width:300}},e.createElement(U,{block:!0,type:"primary",size:"large",loading:c,onClick:p},"\u767B\u5F55")),e.createElement(ee,{plain:!0},"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"),e.createElement(M,{size:24},o.length?o.map(E=>e.createElement(re,{title:E.plugin_name,key:E.name},e.createElement("div",{className:L.loginModule,onClick:()=>h(E.name)},e.createElement(se,{src:E.plugin_icon})))):e.createElement(f.Text,{style:{color:"#bbb",fontSize:12}},"\u6682\u65E0\u5176\u4ED6\u7B2C\u4E09\u65B9\u767B\u5F55")))}user(){const t=i.exports.useContext(Ee),{execute:n,loading:u}=$(ca),r=()=>{n().then(()=>F.success("\u9000\u51FA\u767B\u5F55\u6210\u529F")).then(()=>window.location.reload()).catch(s=>F.error(s.message))},a=e.createElement(le,{style:{minWidth:200}},e.createElement(le.Item,{disabled:!0,key:"account",icon:e.createElement(Me,null)},t.account),e.createElement(le.Item,{disabled:!0,key:"type",icon:e.createElement(gt,null)},t.login_code==="default"?"NPM\u9ED8\u8BA4":t.login_code),e.createElement(le.Item,{disabled:!0,key:"admin",icon:e.createElement(Ge,null)},t.admin?"\u7BA1\u7406\u5458":"\u666E\u901A\u7528\u6237"),e.createElement(le.Divider,null),e.createElement(le.Item,{key:"logout",icon:e.createElement(Zt,null),danger:!0,onClick:()=>r(),disabled:u},"\u9000\u51FA\u767B\u5F55"));return e.createElement(yt,{overlay:a},e.createElement(M,{style:{cursor:"pointer"}},e.createElement(se,{src:t.avatar}),e.createElement("span",{className:"number"},t.nickname),e.createElement(Jt,{style:{fontSize:12,color:"#aaa"}})))}};G=Ea([z()],G);const ga="_container_1r1ed_1";var pa={container:ga},ha=Object.defineProperty,Fa=Object.getOwnPropertyDescriptor,fa=(t,n,u,r)=>{for(var a=r>1?void 0:r?Fa(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&ha(n,u,a),a};let ze=class{constructor(){C(this,"onEnter",{scale:.8,opacity:0,type:"from",duration:100});C(this,"onLeave",{opacity:0,width:0,scale:0,duration:200});C(this,"onEnd",t=>{(t.type==="appear"||t.type==="enter")&&(t.target.style="display: inline-block")})}render(t){const[n,u]=i.exports.useState(!1),r=i.exports.useRef(null),a=c=>{t.disabled||t.loading||c&&(t.onAddone(c),u(!1))},s=()=>u(!1),l=()=>{u(!0),setTimeout(()=>r==null?void 0:r.current.focus())};return e.createElement(M,{direction:"vertical",style:{width:"100%"}},e.createElement("div",{className:pa.container},e.createElement(H,{spinning:t.loading},t.dataSource.length?e.createElement(Xt,{enter:this.onEnter,leave:this.onLeave,appear:!1,onEnd:this.onEnd},t.dataSource.map(c=>e.createElement("span",{key:c+"",style:{display:"inline-block"}},e.createElement(K,{color:t.color,closable:!t.disabled,onClose:m=>{m.preventDefault(),!(t.disabled||t.loading)&&t.onRemoveone(c)}},c)))):e.createElement(I,{image:I.PRESENTED_IMAGE_SIMPLE,description:t.emptyText}))),t.disabled?null:n?e.createElement(x,he(ae({},t.input||{}),{ref:r,onPressEnter:c=>a(c.currentTarget.value),onBlur:s,disabled:t.disabled||t.loading})):e.createElement(U,he(ae({},t.button||{}),{onClick:l,disabled:t.disabled,loading:t.loading}),t.buttonText||"\u6DFB\u52A0"))}};ze=fa([z()],ze);const va="_name_c9cbk_9",_a="_version_c9cbk_16",Ca="_description_c9cbk_20",ba="_extra_c9cbk_29";var Fe={package:"_package_c9cbk_1",name:va,version:_a,description:Ca,extra:ba};function xe(t){return e.createElement(y,{className:Fe.package,direction:"column",blocked:!0,onClick:()=>k("/package/"+t.name)},e.createElement(f.Text,{ellipsis:!0,className:Fe.name,title:t.name},t.name),e.createElement(f.Text,{className:Fe.version},t.version),e.createElement(f.Paragraph,{className:Fe.description,ellipsis:{rows:2},title:t.description},t.description),e.createElement("div",{className:Q(Fe.extra,"number")},e.createElement(re,{title:"\u6A21\u5757\u4F53\u79EF"},e.createElement(en,null)," ",tn(t.size)),e.createElement(ee,{type:"vertical"}),e.createElement(re,{title:"\u603B\u4E0B\u8F7D\u91CF"},e.createElement(bt,null)," ",t.downloads),e.createElement(ee,{type:"vertical"}),e.createElement(re,{title:"\u7248\u672C\u4E2A\u6570"},e.createElement(nn,null)," ",t.versions),e.createElement(ee,{type:"vertical"}),e.createElement(re,{title:"\u603B\u8D21\u732E\u8005\u4E2A\u6570"},e.createElement(Ge,null)," ",t.maintainers),e.createElement(ee,{type:"vertical"}),e.createElement(re,{title:"\u603B\u6536\u85CF\u6570"},e.createElement(st,null)," ",t.likes)))}var ya=Object.defineProperty,Ba=Object.getOwnPropertyDescriptor,Da=(t,n,u,r)=>{for(var a=r>1?void 0:r?Ba(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&ya(n,u,a),a};let Re=class{constructor(){C(this,"dataBaseTypes",ht);C(this,"textLabelSize",6);C(this,"holderLabelSize",18)}render(){const t=v(this.config,this),[n,u]=i.exports.useState("mysql"),[r,a]=i.exports.useState(null),[s,l]=i.exports.useState(null),[c,m]=i.exports.useState(null),[d,o]=i.exports.useState(null),[p,h]=i.exports.useState(null),{loading:E,execute:_}=$(()=>w?kn({type:n,host:r,port:s,username:c,password:d,database:p}):Promise.reject(new Error("\u8BF7\u5C06\u4FE1\u606F\u586B\u5199\u5B8C\u6574"))),w=i.exports.useMemo(()=>!(!n||!ht.map(B=>B.value).includes(n)||!r||!s||s<0||!c||!d||!p),[n,r,s,c,d,p]),T=()=>{_().then(()=>F.success("\u5B89\u88C5\u6570\u636E\u5E93\u6210\u529F")).then(()=>window.location.reload()).catch(B=>F.error(B.message))};return e.createElement("div",{className:"setup_container"},e.createElement(lt,{traffic:!0,title:"NPPM SETUP - \u5B89\u88C5\u6570\u636E\u5E93"},e.createElement(D,{gutter:[12,12],align:"middle"},e.createElement(t,{required:!0,title:"\u6570\u636E\u5E93\u9009\u62E9"},e.createElement(me,{disabled:E,options:this.dataBaseTypes,value:n,onChange:B=>u(B)})),e.createElement(t,{required:!0,title:"\u6570\u636E\u5E93\u8FDE\u63A5\u5730\u5740"},e.createElement(x,{disabled:E,value:r,onChange:B=>a(B.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:400}})),e.createElement(t,{required:!0,title:"\u6570\u636E\u5E93\u7AEF\u53E3"},e.createElement(de,{disabled:E,value:s,onChange:B=>l(B),placeholder:"\u4F8B\u5982 8642",step:1,min:3e3,style:{width:120}})),e.createElement(t,{required:!0,title:"\u6570\u636E\u5E93\u8D26\u53F7"},e.createElement(x,{disabled:E,value:c,onChange:B=>m(B.target.value),placeholder:"\u4F8B\u5982 admin",style:{width:180}})),e.createElement(t,{required:!0,title:"\u6570\u636E\u5E93\u5BC6\u7801"},e.createElement(x,{disabled:E,value:d,onChange:B=>o(B.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:180}})),e.createElement(t,{required:!0,title:"\u6570\u636E\u5E93\u540D\u79F0"},e.createElement(x,{disabled:E,value:p,onChange:B=>h(B.target.value),placeholder:"\u4F8B\u5982 mysql_database",style:{width:180}})),e.createElement(t,null,e.createElement(U,{type:"primary",loading:E,onClick:T,disabled:!w},"\u5F00\u59CB")))))}config(t){return e.createElement(i.exports.Fragment,null,e.createElement(g,{span:this.textLabelSize},e.createElement(y,{align:"right"},!!t.required&&e.createElement("span",{className:"required"},"*"),t.title)),e.createElement(g,{span:this.holderLabelSize},t.children))}};Re=Da([z()],Re);var xa=Object.defineProperty,Sa=Object.getOwnPropertyDescriptor,wa=(t,n,u,r)=>{for(var a=r>1?void 0:r?Sa(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&xa(n,u,a),a};let Ze=class{constructor(){C(this,"textLabelSize",6);C(this,"holderLabelSize",18)}render(){const t=v(this.config,this),[n,u]=i.exports.useState(null),[r,a]=i.exports.useState(null),[s,l]=i.exports.useState(null),[c,m]=i.exports.useState(null),{loading:d,execute:o}=$(()=>p?Pn({host:n,port:r,password:s,db:c}):Promise.reject(new Error("\u8BF7\u5C06\u4FE1\u606F\u586B\u5199\u5B8C\u6574"))),p=i.exports.useMemo(()=>!(!n||!r||r<0||c&&c<0),[n,r,s,c]),h=()=>{o().then(()=>F.success("\u5B89\u88C5`Redis`\u6210\u529F")).then(()=>window.location.reload()).catch(E=>F.error(E.message))};return e.createElement("div",{className:"setup_container"},e.createElement(lt,{traffic:!0,title:"NPPM SETUP - \u5B89\u88C5`Redis`"},e.createElement(D,{gutter:[12,12],align:"middle"},e.createElement(t,{required:!0,title:"\u8FDE\u63A5\u5730\u5740"},e.createElement(x,{disabled:d,value:n,onChange:E=>u(E.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:400}})),e.createElement(t,{required:!0,title:"\u7AEF\u53E3"},e.createElement(de,{disabled:d,value:r,onChange:E=>a(E),placeholder:"\u4F8B\u5982 8642",step:1,min:3e3,style:{width:120}})),e.createElement(t,{title:"\u6570\u636E\u5E93\u5BC6\u7801"},e.createElement(x,{disabled:d,value:s,onChange:E=>l(E.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:180}})),e.createElement(t,{title:"\u901A\u9053\u7D22\u5F15"},e.createElement(de,{disabled:d,value:c,onChange:E=>m(E),placeholder:"\u4F8B\u5982 0 \u9009\u586B",step:1,min:0,style:{width:120}})),e.createElement(t,null,e.createElement(U,{type:"primary",loading:d,onClick:h,disabled:!p},"\u5F00\u59CB")))))}config(t){return e.createElement(i.exports.Fragment,null,e.createElement(g,{span:this.textLabelSize},e.createElement(y,{align:"right"},!!t.required&&e.createElement("span",{className:"required"},"*"),t.title)),e.createElement(g,{span:this.holderLabelSize},t.children))}};Ze=wa([z()],Ze);var Aa=Object.defineProperty,ka=Object.getOwnPropertyDescriptor,Pa=(t,n,u,r)=>{for(var a=r>1?void 0:r?ka(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&Aa(n,u,a),a};let Je=class{constructor(){C(this,"textLabelSize",6);C(this,"holderLabelSize",18)}render(){const t=v(this.config,this),[n,u]=i.exports.useState(null),[r,a]=i.exports.useState(null),[s,l]=i.exports.useState(null),[c,m]=i.exports.useState(null),{loading:d,execute:o}=$(()=>p?r!==s?Promise.reject(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):Nn({username:n,password:r,email:c}):Promise.reject(new Error("\u8BF7\u5C06\u4FE1\u606F\u586B\u5199\u5B8C\u6574"))),p=i.exports.useMemo(()=>!(!n||!r||!c),[n,r,c]),h=()=>{o().then(()=>F.success("\u521B\u5EFA\u7BA1\u7406\u5458\u6210\u529F")).then(()=>window.location.reload()).catch(E=>F.error(E.message))};return e.createElement("div",{className:"setup_container"},e.createElement(lt,{traffic:!0,title:"NPPM SETUP - \u521B\u5EFA\u7BA1\u7406\u5458"},e.createElement(D,{gutter:[12,12],align:"middle"},e.createElement(t,{required:!0,title:"\u8D26\u53F7"},e.createElement(x,{disabled:d,value:n,onChange:E=>u(E.target.value),placeholder:"\u4F8B\u5982 admin",style:{width:150}})),e.createElement(t,{required:!0,title:"\u5BC6\u7801"},e.createElement(x,{disabled:d,value:r,onChange:E=>a(E.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:150}})),e.createElement(t,{required:!0,title:"\u91CD\u590D\u5BC6\u7801"},e.createElement(x,{disabled:d,value:s,onChange:E=>l(E.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:150}})),e.createElement(t,{required:!0,title:"\u90AE\u7BB1"},e.createElement(x,{disabled:d,value:c,onChange:E=>m(E.target.value),placeholder:"\u4F8B\u5982 admin@qq.com",style:{width:300}})),e.createElement(t,null,e.createElement(U,{type:"primary",loading:d,onClick:h,disabled:!p},"\u4FDD\u5B58")))))}config(t){return e.createElement(i.exports.Fragment,null,e.createElement(g,{span:this.textLabelSize},e.createElement(y,{align:"right"},!!t.required&&e.createElement("span",{className:"required"},"*"),t.title)),e.createElement(g,{span:this.holderLabelSize},t.children))}};Je=Pa([z()],Je);var Na=Object.defineProperty,Oa=Object.getOwnPropertyDescriptor,Ue=(t,n,u,r)=>{for(var a=r>1?void 0:r?Oa(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&Na(n,u,a),a};let ge=class{constructor(){C(this,"ORMSetup");C(this,"RedisSetup");C(this,"AdminSetup")}render(t){const n=_e(this.ORMSetup),u=_e(this.RedisSetup),r=_e(this.AdminSetup),a=v(this.user,this),{loading:s,result:l,error:c}=P(An,[]);return i.exports.useEffect(()=>{if(c)return F.error(c.message)},[c]),e.createElement(At.Provider,{value:{version:l==null?void 0:l.version}},e.createElement(H,{spinning:s,style:{minHeight:200}},(l==null?void 0:l.mode)===1&&e.createElement(n,null),(l==null?void 0:l.mode)===2&&e.createElement(u,null),(l==null?void 0:l.mode)===3&&e.createElement(r,null),(l==null?void 0:l.mode)===0&&e.createElement(a,null,t.children)))}user(t){const{loading:n,result:u,error:r}=P(On,[]);return i.exports.useEffect(()=>{if(r)return F.error(r.message)},[r]),e.createElement(H,{spinning:n},e.createElement(Ee.Provider,{value:u||wt},t.children))}};Ue([ne(Re)],ge.prototype,"ORMSetup",2);Ue([ne(Ze)],ge.prototype,"RedisSetup",2);Ue([ne(Je)],ge.prototype,"AdminSetup",2);ge=Ue([z()],ge);const Ta="_tip_18pdo_1";var Ne={tip:Ta};async function Ma(t){return(await b.get("/package/update/recently?top="+t)).data}async function $a(){return(await b.get("/dashboard/users")).data}async function Ia(){return(await b.get("/dashboard/packages")).data}async function za(){return(await b.get("/dashboard/stars")).data}async function Ra(){return(await b.get("/dashboard/downloads")).data}var La=Object.defineProperty,qa=Object.getOwnPropertyDescriptor,ja=(t,n,u,r)=>{for(var a=r>1?void 0:r?qa(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&La(n,u,a),a};let Xe=class{constructor(){C(this,"gutter",24)}render(){const t=v(this.statistics,this),n=v(this.recently,this);return e.createElement(D,{gutter:[this.gutter,this.gutter]},e.createElement(g,{span:24},"\u6570\u636E\u7EDF\u8BA1"),e.createElement(g,{span:24},e.createElement(t,null)),e.createElement(g,{span:24},"\u6700\u8FD1\u66F4\u65B0\u7684\u6A21\u5757"),e.createElement(g,{span:24},e.createElement(n,{top:15})))}statistics(){const t=v(this.users,this),n=v(this.packages,this),u=v(this.stars,this),r=v(this.downloads,this);return e.createElement(D,{gutter:[24,24]},e.createElement(g,{span:6},e.createElement(t,null)),e.createElement(g,{span:6},e.createElement(n,null)),e.createElement(g,{span:6},e.createElement(u,null)),e.createElement(g,{span:6},e.createElement(r,null)))}recently(t){const{loading:n,result:u,error:r}=P(Ma,[t.top]),a=u||[];return i.exports.useEffect(()=>{if(r)return F.error(r.message)},[r]),e.createElement(H,{spinning:n,style:{minHeight:200}},a.length?e.createElement(D,{gutter:[24,24]},a.map(s=>e.createElement(g,{span:8,key:s.id},e.createElement(xe,ae({},s))))):e.createElement(I,{image:I.PRESENTED_IMAGE_SIMPLE}))}users(){const{loading:t,result:n,error:u}=P($a,[]);return i.exports.useEffect(()=>{if(u)return F.error(u.message)},[u]),e.createElement(ke,{size:"small",title:null,loading:t},e.createElement(Pe,{title:"Users",value:(n==null?void 0:n.count)||0}),e.createElement(f.Text,{className:Ne.tip},"\u8FD17\u5929\u65B0\u589E\u7528\u6237 ",e.createElement("span",null,n==null?void 0:n.seven)," \u4EBA"))}packages(){const{loading:t,result:n,error:u}=P(Ia,[]);return i.exports.useEffect(()=>{if(u)return F.error(u.message)},[u]),e.createElement(ke,{size:"small",title:null,loading:t},e.createElement(Pe,{title:"Packages",value:(n==null?void 0:n.count)||0}),e.createElement(f.Text,{className:Ne.tip},"\u8FD17\u5929\u65B0\u589E\u6A21\u5757 ",e.createElement("span",null,n==null?void 0:n.seven)," \u4E2A"))}stars(){const{loading:t,result:n,error:u}=P(za,[]);return i.exports.useEffect(()=>{if(u)return F.error(u.message)},[u]),e.createElement(ke,{size:"small",title:null,loading:t},e.createElement(Pe,{title:"Stars",value:(n==null?void 0:n.count)||0}),e.createElement(f.Text,{className:Ne.tip},"\u8FD17\u5929\u65B0\u589E\u6536\u85CF ",e.createElement("span",null,n==null?void 0:n.seven)," \u4E2A"))}downloads(){const{loading:t,result:n,error:u}=P(Ra,[]);return i.exports.useEffect(()=>{if(u)return F.error(u.message)},[u]),e.createElement(ke,{size:"small",title:null,loading:t},e.createElement(Pe,{title:"Downloads",value:(n==null?void 0:n.count)||0}),e.createElement(f.Text,{className:Ne.tip},"\u8FD17\u5929\u65B0\u589E\u4E0B\u8F7D ",e.createElement("span",null,n==null?void 0:n.seven)," \u6B21"))}};Xe=ja([z(),j("/"),Z(G)],Xe);const Ua="_tip_7v3r5_1";var Ha={tip:Ua};async function Va(){return(await b.get("/setup/orm")).data}function Ya(t){return b.put("/setup/orm",t)}const Ga="_description_2yfl0_1",Ka="_login_2yfl0_5",Qa="_content_2yfl0_12",Wa="_version_2yfl0_15",Za="_desc_2yfl0_1",Ja="_active_2yfl0_25";var ie={description:Ga,login:Ka,content:Qa,version:Wa,desc:Za,active:Ja};async function kt(){return(await b.get("/configs")).data}function Xa(t){return b.put("/configs",t)}async function eu(){return(await b.get("/plugin/logins")).data}var tu=Object.defineProperty,nu=Object.getOwnPropertyDescriptor,Pt=(t,n,u,r)=>{for(var a=r>1?void 0:r?nu(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&tu(n,u,a),a};let ce=class{constructor(){C(this,"TagTreeInput");C(this,"scopeButtonProps",{type:"link",icon:e.createElement(Qe,null)});C(this,"scopeInputProps",{placeholder:"\u8F93\u5165\u547D\u540D\u7A7A\u95F4\u540D\u79F0",prefix:"@",suffix:e.createElement(We,null)});C(this,"registryButtonProps",{type:"link",icon:e.createElement(Qe,null)});C(this,"registryInputProps",{placeholder:"\u8F93\u5165\u516C\u6709\u6E90\u5730\u5740\uFF0C\u4EE5 HTTP \u6216\u8005 HTTPS \u5F00\u5934",suffix:e.createElement(We,null)});C(this,"pluginColSpan",12);C(this,"pluginDefaultLoginState",{name:"default",version:"1.0.0",description:"\u57FA\u4E8ENPM\u7684\u9ED8\u8BA4\u767B\u5F55\u65B9\u5F0F\uFF0C\u4EE5\u7528\u6237\u540D\u548C\u5BC6\u7801\u767B\u5F55\u4E3A\u4E3B\u3002",plugin_name:"NPM\u9ED8\u8BA4\u767B\u5F55",plugin_icon:e.createElement(se,{style:{backgroundColor:"#EA2039"},size:"large"},"DEFAULT"),nppm:!0})}render(){const t=v(this.config,this),n=_e(this.TagTreeInput),u=v(this.logins,this),[r,a]=i.exports.useState(null),[s,l]=i.exports.useState([]),[c,m]=i.exports.useState([]),[d,o]=i.exports.useState("default"),[p,h]=i.exports.useState("packages"),[E,_]=i.exports.useState(!1),[w,T]=i.exports.useState(!0),B=P(kt,[]),J=$(Xa),A=N=>{const R=s.slice(0);R.includes("@"+N)||(R.push("@"+N),l(R))},V=N=>{const R=s.slice(0),O=R.indexOf(N);O>-1&&(R.splice(O,1),l(R))},pe=N=>{const R=c.slice(0);R.includes(N)||(R.unshift(N),m(R))},Se=N=>{const R=c.slice(0),O=R.indexOf(N);O>-1&&(R.splice(O,1),m(R))},He=()=>{J.execute({domain:r,scopes:s,registries:c,login_code:d,dictionary:p,registerable:E,installable:w}).then(()=>F.success("\u4FDD\u5B58\u914D\u7F6E\u6210\u529F")).catch(N=>F.error(N.message))};return i.exports.useEffect(()=>{B.result&&(a(B.result.domain),l(B.result.scopes),m(B.result.registries),o(B.result.login_code),h(B.result.dictionary),_(B.result.registerable),T(!!B.result.installable))},[B.result]),e.createElement(D,{gutter:[24,32],style:{width:700}},e.createElement(t,{title:"\u7F51\u7AD9\u5730\u5740",description:"\u6B64\u9009\u9879\u5173\u7CFB\u5230\u6A21\u5757\u5305tgz\u6587\u4EF6\u7684\u4E0B\u8F7D\uFF0C\u6240\u4EE5\u4E3A\u5FC5\u586B\u9879\u3002\u4F60\u5FC5\u987B\u8BBE\u7F6E\u4E3A\u672C\u670D\u52A1\u53EF\u8BBF\u95EE\u57DF\u540D\u3002"},e.createElement(x,{value:r,onChange:N=>a(N.target.value),style:{width:500},placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u57DF\u540D\u5730\u5740 HTTP \u6216 HTTPS \u5F00\u5934"})),e.createElement(t,{title:"\u6CE8\u518C",description:"\u5F00\u5173\uFF0C\u5173\u7CFB\u5230\u65B0\u6CE8\u518C\u7528\u6237\u662F\u5426\u53EF\u4EE5\u6CE8\u518CNPM\u9ED8\u8BA4\u6A21\u5F0F\uFF0C\u5373NPM\u7684\u8D26\u53F7\u5BC6\u7801\uFF0C\u7B2C\u4E09\u65B9\u767B\u5F55\u4E0D\u53D7\u5F71\u54CD\u3002\u5982\u679C\u5DF2\u6CE8\u518C\u7528\u6237\uFF0C\u5219\u4E0D\u5F71\u54CD\u767B\u5F55\u3002"},e.createElement(Ce,{checked:E,onChange:N=>_(N.target.checked)},"\u5F00\u653ENPM\u9ED8\u8BA4\u6CE8\u518C\u6A21\u5F0F")),e.createElement(t,{title:"\u5B89\u88C5\u6A21\u5757",description:"\u5F00\u5173\uFF0C\u5173\u7CFB\u5230\u662F\u5426\u5728\u672A\u767B\u5F55\u60C5\u51B5\u4E0B\u80FD\u591F\u5B89\u88C5\u6A21\u5757\u3002\u6B64\u529F\u80FD\u7ED3\u5408\u6CE8\u518C\u9009\u9879\u7528\u4E8E\u5C06\u672C\u7A0B\u5E8F\u642D\u5EFA\u5728\u5916\u7F51\u7684\u60C5\u51B5\u4E0B\u4FDD\u969C\u6A21\u5757\u4E0D\u88AB\u7A83\u53D6\u3002"},e.createElement(Ce,{checked:w,onChange:N=>T(N.target.checked)},"\u5141\u8BB8\u5F00\u653E\u5B89\u88C5\u6A21\u5757")),e.createElement(t,{title:"\u7F51\u7AD9\u5141\u8BB8\u4F7F\u7528\u7684\u547D\u540D\u7A7A\u95F4",description:"\u53EF\u4F7F\u7528\u7684scope\u524D\u7F00\u3002\u6BD4\u5982@node\uFF0C\u90A3\u4E48\u8FD9\u4E2Ascope\u524D\u7F00\u7684\u6A21\u5757\u5C06\u53EF\u4EE5\u88AB\u63A5\u53D7\u3002\u5982\u679C\u7BA1\u7406\u5458\u8BBE\u5B9A\u7528\u6237\u81EA\u8EAB\u7684scope\u524D\u7F00\uFF0C\u5C06\u4F1A\u4E0E\u6B64\u9879\u7EC4\u5408\u540E\u5224\u65AD\u662F\u5426\u63A5\u53D7\u3002"},e.createElement(n,{buttonText:"\u6DFB\u52A0\u547D\u540D\u7A7A\u95F4",button:this.scopeButtonProps,input:this.scopeInputProps,dataSource:s,onAddone:A,onRemoveone:V,emptyText:"\u6682\u65E0\u547D\u540D\u7A7A\u95F4",loading:B.loading})),e.createElement(t,{title:"\u7F51\u7AD9\u5141\u8BB8\u4F7F\u7528\u7684\u516C\u6709\u6E90",description:"\u5728\u975E\u79C1\u6709\u6A21\u5757\u88AB\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u5C06\u6309\u7167\u6211\u4EEC\u8BBE\u7F6E\u7684\u540C\u6B65\u6E90\u53BB\u83B7\u53D6\u6A21\u5757\u4FE1\u606F\u3002\u6B64\u9879\u5177\u6709\u987A\u5E8F\u6027\uFF0C\u6839\u636E\u987A\u5E8F\u5C06\u81EA\u52A8\u83B7\u53D6\u6A21\u5757\u4FE1\u606F\u3002"},e.createElement(n,{buttonText:"\u6DFB\u52A0\u5171\u6709\u6E90",button:this.registryButtonProps,input:this.registryInputProps,dataSource:c,onAddone:pe,onRemoveone:Se,emptyText:"\u6682\u65E0\u516C\u6709\u6E90",loading:B.loading})),e.createElement(t,{title:"\u53D1\u5E03\u5305\u6587\u4EF6\u4FDD\u5B58\u6587\u4EF6\u5939\u5730\u5740",description:"\u4E00\u65E6\u521D\u671F\u8BBE\u5B9A\u597D\u8FD9\u4E2A\u53D8\u91CF\uFF0C\u5EFA\u8BAE\u4E0D\u8981\u66F4\u6362\uFF0C\u4EE5\u514D\u5F71\u54CD\u4F7F\u7528\u3002\u76EE\u524D\u8FD8\u6CA1\u6709\u5B9E\u73B0\u4FEE\u6B63\u8FD9\u4E2A\u76EE\u5F55\u529F\u80FD\u3002"},e.createElement(x,{value:p,onChange:N=>h(N.target.value),placeholder:"\u8BF7\u8F93\u5165\u5305\u5B58\u5728\u6587\u4EF6\u5939\u5730\u5740"})),e.createElement(t,{title:"\u9009\u62E9NPM\u547D\u4EE4\u884C\u9ED8\u8BA4\u767B\u5F55\u65B9\u5F0F"},e.createElement(u,{value:d,onChange:o})),e.createElement(g,{span:24},e.createElement(U,{type:"primary",onClick:He,loading:J.loading,disabled:B.loading},"\u4FDD\u5B58\u914D\u7F6E")))}config(t){return e.createElement(g,{span:24},e.createElement(M,{direction:"vertical",style:{width:"100%"}},e.createElement(y,{blocked:!0,align:"between",valign:"middle"},e.createElement(y,{span:1,scroll:"hide",style:{marginRight:24}},e.createElement(f.Text,{ellipsis:!0},t.title)),t.extra),!!t.description&&t.descriptionPosition==="top"&&e.createElement("div",{className:ie.description},t.description),e.createElement("div",null,t.children),!!t.description&&t.descriptionPosition!=="top"&&e.createElement("div",{className:ie.description},t.description)))}logins(t){const n=v(this.login,this),{loading:u,result:r,error:a}=P(eu,[]);return i.exports.useEffect(()=>{if(a)return F.error(a.message)},[a]),e.createElement(H,{spinning:u},e.createElement(D,{gutter:[24,24]},e.createElement(g,{span:this.pluginColSpan},e.createElement(n,{dataSource:this.pluginDefaultLoginState,current:t.value,onChange:t.onChange})),(r||[]).map(s=>e.createElement(g,{span:this.pluginColSpan,key:s.name},e.createElement(n,{dataSource:s,current:t.value,onChange:t.onChange})))))}login(t){return e.createElement(y,{blocked:!0,className:Q(ie.login,{[ie.active]:t.dataSource.name===t.current}),onClick:()=>t.onChange(t.dataSource.name)},typeof t.dataSource.plugin_icon=="string"?e.createElement(se,{size:"large",src:t.dataSource.plugin_icon}):t.dataSource.plugin_icon,e.createElement(y,{span:1,scroll:"hide",direction:"column",className:ie.content},e.createElement(f.Text,{ellipsis:!0,title:t.dataSource.plugin_name},t.dataSource.plugin_name),e.createElement("div",{className:ie.version},t.dataSource.name,"@",t.dataSource.version),e.createElement(f.Paragraph,{ellipsis:{rows:2},className:ie.desc},t.dataSource.description)))}};Pt([ne(ze)],ce.prototype,"TagTreeInput",2);ce=Pt([z(),j("/admin/setting/base"),Z(G,{login:!0,admin:!0})],ce);var au=Object.defineProperty,uu=Object.getOwnPropertyDescriptor,ct=(t,n,u,r)=>{for(var a=r>1?void 0:r?uu(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&au(n,u,a),a};let ye=class{constructor(){C(this,"ORMSetup");C(this,"AdminBaseSetting");C(this,"text",`
    \u4FEE\u6539\u6570\u636E\u5E93\u8FDE\u63A5\u53C2\u6570\u5C06\u81EA\u52A8\u91CD\u65B0\u8FDE\u63A5\u6570\u636E\u5E93\uFF0C\u7CFB\u7EDF\u5C06\u6709\u79D2\u7EA7\u95EA\u65AD\uFF0C\u8BF7\u614E\u91CD\u4FEE\u6539\uFF01
    \u5982\u679C\u4FEE\u6539\u7684\u4E3A\u4E00\u4E2A\u65B0\u5E93\u5C06\u4E22\u5931\u539F\u6709\u6570\u636E\uFF0C\u5EFA\u8BAE\u5728\u5B89\u88C5\u5B8C\u6BD5\u540E\u4E0D\u8981\u4FEE\u6539\u6570\u636E\u5E93\uFF0C\u4EE5\u514D\u9020\u6210\u4E0D\u5FC5\u8981\u7684\u635F\u5931\uFF01
    \u5982\u679C\u60A8\u5DF2\u505A\u597D\u5907\u4EFD\u6216\u8005\u505A\u597D\u4E22\u5931\u6570\u636E\u51C6\u5907\uFF0C\u90A3\u4E48\u8BF7\u7EE7\u7EED\u4FEE\u6539\u64CD\u4F5C\uFF01
  `)}render(){const t=P(Va,[]),n=$(Ya),[u,r]=i.exports.useState("mysql"),[a,s]=i.exports.useState(null),[l,c]=i.exports.useState(null),[m,d]=i.exports.useState(null),[o,p]=i.exports.useState(null),[h,E]=i.exports.useState(null),_=v(this.AdminBaseSetting.config,this.AdminBaseSetting),w=i.exports.useMemo(()=>t.loading||n.loading,[t.loading,n.loading]),T=i.exports.useMemo(()=>!(!u||!this.ORMSetup.dataBaseTypes.map(A=>A.value).includes(u)||!a||!l||l<0||!m||!o||!h),[u,a,l,m,o,h]),B=()=>{n.execute({type:u,host:a,port:l,username:m,password:o,database:h}).then(()=>F.success("\u66F4\u65B0\u6570\u636E\u5E93\u6210\u529F")).catch(A=>F.error(A.message))};i.exports.useEffect(()=>{t.result&&(r(t.result.type),s(t.result.host),c(t.result.port),d(t.result.username),p(t.result.password),E(t.result.database))},[t.result]);const J=i.exports.useMemo(()=>this.ORMSetup.dataBaseTypes.map(A=>A.label).join(", "),[]);return e.createElement(D,{gutter:[24,24]},e.createElement(g,{span:24},e.createElement("div",{className:Ha.tip},e.createElement(Bt,null)," ",this.text)),e.createElement(_,{title:e.createElement(Y,{status:"error",text:"\u7C7B\u578B"}),description:"\u9009\u62E9\u60A8\u5E0C\u671B\u521B\u5EFA\u7684\u6570\u636E\u5E93\u7C7B\u578B\uFF0C\u6211\u4EEC\u652F\u6301\u7684\u7C7B\u578B\u6709 "+J+"\uFF0C\u8BF7\u9009\u62E9\u5176\u4E00\u3002"},e.createElement(me,{disabled:w,options:this.ORMSetup.dataBaseTypes,value:u,onChange:A=>r(A)})),e.createElement(_,{title:e.createElement(Y,{status:"error",text:"\u5730\u5740"}),description:"\u8FDE\u63A5\u5730\u5740\uFF0C\u4E00\u822C\u4EE5IP\u4E3A\u4E3B\uFF0C\u8BF7\u6B63\u786E\u586B\u5199 \u4F8B\u5982 127.0.0.1"},e.createElement(x,{disabled:w,value:a,onChange:A=>s(A.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:400}})),e.createElement(_,{title:e.createElement(Y,{status:"error",text:"\u7AEF\u53E3"}),description:"\u8BF7\u5199\u5165\u7AEF\u53E3\uFF0C\u4F8B\u5982 8642"},e.createElement(de,{disabled:w,value:l,onChange:A=>c(A),placeholder:"\u4F8B\u5982 8642",step:1,min:3e3,style:{width:120}})),e.createElement(_,{title:e.createElement(Y,{status:"error",text:"\u8D26\u53F7"}),description:"\u8BF7\u8F93\u5165\u6570\u636E\u5E93\u7684\u4F7F\u7528\u8005\u8D26\u53F7"},e.createElement(x,{disabled:w,value:m,onChange:A=>d(A.target.value),placeholder:"\u4F8B\u5982 admin",style:{width:180}})),e.createElement(_,{title:e.createElement(Y,{status:"error",text:"\u5BC6\u7801"}),description:"\u8BF7\u8F93\u5165\u6570\u636E\u5E93\u7684\u5BC6\u7801"},e.createElement(x,{disabled:w,value:o,onChange:A=>p(A.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:180}})),e.createElement(_,{title:e.createElement(Y,{status:"error",text:"\u540D\u79F0"}),description:"\u8BF7\u8F93\u5165\u6570\u636E\u5E93\u7684\u540D\u79F0"},e.createElement(x,{disabled:w,value:h,onChange:A=>E(A.target.value),placeholder:"\u4F8B\u5982 mysql_database",style:{width:180}})),e.createElement(g,{span:24},e.createElement(U,{type:"primary",onClick:B,disabled:!T,loading:w},"\u4FDD\u5B58")))}};ct([ne(Re)],ye.prototype,"ORMSetup",2);ct([ne(ce)],ye.prototype,"AdminBaseSetting",2);ye=ct([z(),j("/admin/setting/orm"),Z(G,{login:!0,admin:!0})],ye);const ru="_tip_7v3r5_1";var su={tip:ru};async function lu(){return(await b.get("/setup/redis")).data}function cu(t){return b.put("/setup/redis",t)}var iu=Object.defineProperty,ou=Object.getOwnPropertyDescriptor,Nt=(t,n,u,r)=>{for(var a=r>1?void 0:r?ou(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&iu(n,u,a),a};let Le=class{constructor(){C(this,"AdminBaseSetting");C(this,"text","\u4FEE\u6539`Redis`\u8FDE\u63A5\u53C2\u6570\u5C06\u81EA\u52A8\u91CD\u65B0\u8FDE\u63A5`Redis`\uFF0C\u7CFB\u7EDF\u5C06\u6709\u79D2\u7EA7\u95EA\u65AD\uFF0C\u8BF7\u614E\u91CD\u4FEE\u6539\uFF01")}render(){const t=P(lu,[]),n=$(cu),[u,r]=i.exports.useState(null),[a,s]=i.exports.useState(null),[l,c]=i.exports.useState(null),[m,d]=i.exports.useState(null),o=v(this.AdminBaseSetting.config,this.AdminBaseSetting),p=i.exports.useMemo(()=>t.loading||n.loading,[t.loading,n.loading]),h=i.exports.useMemo(()=>!(!u||!a||a<0||m&&m<0),[u,a,l,m]),E=()=>{n.execute({host:u,port:a,password:l,db:m}).then(()=>F.success("\u66F4\u65B0`Redis`\u6210\u529F")).catch(_=>F.error(_.message))};return i.exports.useEffect(()=>{t.result&&(r(t.result.host),s(t.result.port),c(t.result.password),d(t.result.db))},[t.result]),e.createElement(D,{gutter:[24,32],style:{width:700}},e.createElement(g,{span:24},e.createElement("div",{className:su.tip},e.createElement(Bt,null)," ",this.text)),e.createElement(o,{title:e.createElement(Y,{status:"error",text:"\u94FE\u63A5\u5730\u5740"}),description:"\u8FDE\u63A5\u5730\u5740\uFF0C\u4E00\u822C\u4EE5IP\u4E3A\u4E3B\uFF0C\u8BF7\u6B63\u786E\u586B\u5199 \u4F8B\u5982 127.0.0.1"},e.createElement(x,{disabled:p,value:u,onChange:_=>r(_.target.value),placeholder:"\u4F8B\u5982 127.0.0.1",style:{width:500}})),e.createElement(o,{title:e.createElement(Y,{status:"error",text:"\u7AEF\u53E3"}),description:"\u9ED8\u8BA4`Redis`\u7AEF\u53E3\u4E3A6379\uFF0C\u5982\u679C\u60A8\u81EA\u5B9A\u4E49\u4E86\u7AEF\u53E3\uFF0C\u8BF7\u5199\u5165\u7AEF\u53E3\uFF0C\u4F8B\u5982 8642"},e.createElement(de,{disabled:p,value:a,onChange:_=>s(_),placeholder:"\u4F8B\u5982 8642",step:1,min:3e3,style:{width:120}})),e.createElement(o,{title:"\u5BC6\u7801",description:"\u5982\u679C\u60A8\u8BBE\u7F6E\u4E86`Redis`\u767B\u5F55\u5BC6\u7801\uFF0C\u8BF7\u8F93\u5165\uFF0C\u4F8B\u5982 admin888"},e.createElement(x,{disabled:p,value:l,onChange:_=>c(_.target.value),placeholder:"\u4F8B\u5982 admin888",type:"password",style:{width:180}})),e.createElement(o,{title:"\u901A\u9053\u7D22\u5F15",description:"\u4E00\u822C\u7684\uFF0C\u60A8\u53EF\u4EE5\u9009\u62E9`Redis`\u5B58\u50A8\u901A\u9053\uFF0C\u5B83\u662F\u4E00\u4E2A\u6570\u5B57\uFF0C\u4F8B\u5982 0"},e.createElement(de,{disabled:p,value:m,onChange:_=>d(_),placeholder:"\u4F8B\u5982 0 \u9009\u586B",step:1,min:0,style:{width:120}})),e.createElement(g,{span:24},e.createElement(U,{type:"primary",loading:p,onClick:E,disabled:!h},"\u4FDD\u5B58")))}};Nt([ne(ce)],Le.prototype,"AdminBaseSetting",2);Le=Nt([z(),j("/admin/setting/redis"),Z(G,{login:!0,admin:!0})],Le);const mu="_content_aqbx2_1",du="_user_aqbx2_7",Eu="_info_aqbx2_15",gu="_name_aqbx2_18",pu="_email_aqbx2_23";var Oe={content:mu,user:du,info:Eu,name:gu,email:pu};async function hu(t){return(await b.get("/users",{params:t})).data}var Fu=Object.defineProperty,fu=Object.getOwnPropertyDescriptor,vu=(t,n,u,r)=>{for(var a=r>1?void 0:r?fu(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&Fu(n,u,a),a};let et=class{constructor(){C(this,"size",8)}render(){const t=v(this.user,this),[n,u]=i.exports.useState(1),[r,a]=i.exports.useState(15),[s,l]=i.exports.useState(null),{loading:c,result:m,error:d}=P(()=>hu({page:n,size:r,keyword:s}),[n,r,s]),o=(p,h)=>{u(p),a(h)};return i.exports.useEffect(()=>{if(d)return F.error(d.message)},[d]),e.createElement(D,{gutter:[24,24]},e.createElement(g,{span:24},e.createElement(y,{align:"between",valign:"middle"},e.createElement(De,{showSizeChanger:!1,current:n,pageSize:r,total:m?m[1]:0,onChange:o}),e.createElement(x.Search,{onSearch:p=>l(p),onChange:p=>!p.target.value&&l(void 0),placeholder:"\u641C\u7D22\u5173\u952E\u8D26\u53F7\u6216\u8005\u6635\u79F0",style:{width:250}}))),e.createElement(g,{span:24},e.createElement(H,{spinning:c},e.createElement(D,{gutter:[16,16]},(m||[[],0])[0].map(p=>e.createElement(g,{span:this.size,key:p.id},e.createElement(t,{dataSource:p})))))))}user(t){return e.createElement(y,{className:Oe.user,onClick:()=>k("/user/"+t.dataSource.account)},e.createElement(se,{src:t.dataSource.avatar,size:"large"}),e.createElement(y,{span:1,className:Oe.info,direction:"column",scroll:"hide"},e.createElement(f.Text,{ellipsis:!0,className:Oe.name,title:t.dataSource.nickname+"("+t.dataSource.account+")"},t.dataSource.nickname," ",e.createElement("span",null,"(",t.dataSource.account,")")),e.createElement(f.Text,{ellipsis:!0,className:Oe.email,title:t.dataSource.email},t.dataSource.email)))}};et=vu([z(),j("/admin/users"),Z(G,{login:!0,admin:!0})],et);const _u="_head_aqy4f_1",Cu="_user_aqy4f_4",bu="_info_aqy4f_4",yu="_nickname_aqy4f_7",Bu="_account_aqy4f_13",Du="_email_aqy4f_20",xu="_switcherTitle_aqy4f_24";var oe={head:_u,user:Cu,info:bu,nickname:yu,account:Bu,email:Du,switcherTitle:xu};async function Su(t){return(await b.get(`/user/${t}`)).data}function wu(t,n){return b.put(`/user/${t}/admin`,{value:n})}function Au(t,n){return b.put(`/user/${t}/forbidden`,{value:n})}function ku(t,n){return b.put("/user/"+t+"/scopes",n)}async function Pu(t,n){return(await b.get("/user/"+t+"/packages",{params:n})).data}var Nu=Object.defineProperty,Ou=Object.getOwnPropertyDescriptor,it=(t,n,u,r)=>{for(var a=r>1?void 0:r?Ou(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&Nu(n,u,a),a};let Be=class{constructor(){C(this,"TagTreeInput");C(this,"AdminBaseSetting");C(this,"scopeButtonProps",{type:"primary",icon:e.createElement(Qe,null)});C(this,"scopeInputProps",{placeholder:"\u8F93\u5165\u547D\u540D\u7A7A\u95F4\u540D\u79F0",prefix:"@",suffix:e.createElement(We,null)});C(this,"conditions",[{label:"\u6211\u53D1\u8D77\u7684\u6A21\u5757",value:0},{label:"\u6211\u53C2\u4E0E\u7684\u6A21\u5757",value:1}]);C(this,"pageSizeOptions",["9","15","30","60"])}render(){const t=_e(this.TagTreeInput),n=v(this.AdminBaseSetting.config,this.AdminBaseSetting),u=v(this.switcher,this),r=i.exports.useContext(Ee),a=v(this.user,this),s=$e("id",r.account),{loading:l,result:c,error:m}=P(Su,[s]),[d,o]=i.exports.useState([]),[p,h]=i.exports.useState(this.conditions[0].value),[E,_]=i.exports.useState(1),[w,T]=i.exports.useState(15),[B,J]=i.exports.useState(null),A=$(ku),V=P(()=>{if(c==null?void 0:c.id)return Pu(c.id,{page:E,size:w,keyword:B,type:p})},[c==null?void 0:c.id,E,w,B,p]),pe=V&&V.result&&V.result[0]?V.result[0]:[],Se=V&&V.result&&V.result[1]?V.result[1]:0,He=O=>{if(c==null?void 0:c.id){const X=d.slice(0);X.indexOf("@"+O)===-1&&(X.push("@"+O),A.execute(c.id,X).then(()=>o(X)).then(()=>F.success("\u66F4\u65B0\u6210\u529F")).catch(we=>F.error(we.message)))}},N=O=>{if(c==null?void 0:c.id){const X=d.slice(0),we=X.indexOf(O);we>-1&&(X.splice(we,1),A.execute(c.id,X).then(()=>o(X)).then(()=>F.success("\u66F4\u65B0\u6210\u529F")).catch(Tt=>F.error(Tt.message)))}},R=(O,X)=>{_(O),T(X)};return i.exports.useEffect(()=>o((c==null?void 0:c.scopes)||[]),[c==null?void 0:c.scopes]),i.exports.useEffect(()=>{if(m)return F.error(m.message)},[m]),i.exports.useEffect(()=>{if(V.error)return F.error(V.error.message)},[V.error]),e.createElement(H,{spinning:l},e.createElement(D,{gutter:[24,24]},e.createElement(g,{span:24},e.createElement(y,{blocked:!0},e.createElement(y,{span:1,scroll:"hide"},e.createElement(a,ae({},c))),e.createElement(y,{direction:"column",valign:"bottom"},e.createElement(u,{disabled:!r.admin||(r==null?void 0:r.id)===(c==null?void 0:c.id),title:"\u7BA1\u7406\u5458",feedback:wu,uid:c==null?void 0:c.id,value:!!(c==null?void 0:c.admin),okText:"\u662F",noText:"\u5426"}),e.createElement(u,{disabled:!r.admin||(r==null?void 0:r.id)===(c==null?void 0:c.id),title:"\u767B\u5F55\u9650\u5236",feedback:Au,uid:c==null?void 0:c.id,value:!!(c==null?void 0:c.login_forbiden),okText:"\u5141",noText:"\u7981",reverse:!0})))),e.createElement(g,{span:24},e.createElement(n,{title:"\u6211\u7684\u547D\u540D\u7A7A\u95F4",description:"\u7528\u6237\u5355\u72EC\u53EF\u4F7F\u7528\u7684scope\u524D\u7F00\u3002\u6BD4\u5982@node\uFF0C\u90A3\u4E48\u8FD9\u4E2Ascope\u524D\u7F00\u7684\u6A21\u5757\u5C06\u53EF\u4EE5\u88AB\u63A5\u53D7\u3002\u5982\u679C\u7BA1\u7406\u5458\u8BBE\u5B9A\u7CFB\u7EDF\u7684scope\u524D\u7F00\uFF0C\u5C06\u4F1A\u4E0E\u6B64\u9879\u7EC4\u5408\u540E\u5224\u65AD\u662F\u5426\u63A5\u53D7\u3002",descriptionPosition:"top"},e.createElement(t,{disabled:!(r==null?void 0:r.admin),loading:A.loading,dataSource:d,onAddone:He,onRemoveone:N,button:this.scopeButtonProps,input:this.scopeInputProps,emptyText:"\u6682\u65E0\u547D\u540D\u7A7A\u95F4",buttonText:"\u6DFB\u52A0\u547D\u540D\u7A7A\u95F4"}))),e.createElement(g,{span:24},e.createElement(n,{title:`\u6211\u7684\u6A21\u5757(${Se})`,extra:e.createElement(M,null,e.createElement(me,{options:this.conditions,value:p,onChange:O=>h(O)}),e.createElement(x.Search,{placeholder:"\u641C\u7D22\u6A21\u5757\u7684\u5173\u952E\u5B57...",onSearch:O=>J(O),onChange:O=>{O.target.value||J(null)}}))},e.createElement(H,{spinning:V.loading},e.createElement(D,{gutter:[24,24]},pe.length?pe.map(O=>e.createElement(g,{span:8,key:O.id},e.createElement(xe,ae({},O)))):e.createElement(g,{span:24},e.createElement(I,{image:I.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65E0\u6A21\u5757"})),!!pe.length&&e.createElement(g,{span:24},e.createElement(De,{showSizeChanger:!0,current:E,pageSize:w,total:Se,onChange:R,pageSizeOptions:this.pageSizeOptions}))))))))}user(t){return e.createElement(y,{blocked:!0,className:oe.user},e.createElement(se,{src:t==null?void 0:t.avatar,size:44,className:oe.avatar}),e.createElement(y,{scroll:"hide",direction:"column",className:oe.info,span:1},e.createElement(f.Text,{ellipsis:!0,className:oe.nickname,title:t==null?void 0:t.nickname},t==null?void 0:t.nickname,e.createElement(f.Text,{className:oe.account,copyable:{text:t==null?void 0:t.account}},e.createElement(Me,null)," ",t==null?void 0:t.account)),e.createElement(f.Text,{ellipsis:!0,className:oe.email,title:t==null?void 0:t.email},e.createElement(f.Link,{href:"mailto:"+t.email,target:"_blank"},e.createElement(an,null)," ",t==null?void 0:t.email),e.createElement(ee,{type:"vertical"}),e.createElement(re,{title:"\u6CE8\u518C\u65B9\u5F0F"},e.createElement(un,null)," ",t.login_code==="default"?"NPM\u9ED8\u8BA4":t.login_code),e.createElement(ee,{type:"vertical"}),e.createElement(re,{title:"\u6CE8\u518C\u65F6\u95F4"},e.createElement(rn,null)," ",be(t.gmt_create).format("YYYY-MM-DD HH:mm:ss")))))}switcher(t){const[n,u]=i.exports.useState(!1),{loading:r,execute:a}=$(t.feedback),s=()=>{if(!t.uid)return F.warn("\u672A\u77E5\u7528\u6237");t.disabled||a(t.uid,t.reverse?n:!n).then(()=>u(!n)).then(()=>F.success("\u66F4\u65B0\u6210\u529F")).catch(l=>F.error(l.message))};return i.exports.useEffect(()=>u(t.reverse?!t.value:t.value),[t.value,t.reverse]),e.createElement(M,null,e.createElement("span",{className:oe.switcherTitle},t.title),e.createElement(Dt,{disabled:t.disabled,size:"small",loading:r,checked:n,onChange:s,checkedChildren:t.okText,unCheckedChildren:t.noText}))}};it([ne(ze)],Be.prototype,"TagTreeInput",2);it([ne(ce)],Be.prototype,"AdminBaseSetting",2);Be=it([z(),j("/user"),j("/user/:id"),Z(G,{login:!0})],Be);const Tu="_markdown_p28so_1",Mu="_keywords_p28so_43",$u="_head_p28so_46",Iu="_left_p28so_49",zu="_pathname_p28so_52",Ru="_desc_p28so_56",Lu="_time_p28so_64",qu="_right_p28so_67",ju="_description_p28so_73",Uu="_buttons_p28so_81",Hu="_item_p28so_85",Vu="_tags_p28so_88",Yu="_tag_p28so_88",Gu="_version_p28so_91",Ku="_alias_p28so_91",Qu="_like_p28so_95",Wu="_likeText_p28so_95",Zu="_likeCount_p28so_98",Ju="_likeIcon_p28so_109",Xu="_maintainers_p28so_112",er="_maintainer_p28so_112",tr="_email_p28so_119",nr="_clickable_p28so_123",ar="_dep_p28so_126";var S={markdown:Tu,keywords:Mu,head:$u,left:Iu,pathname:zu,desc:Ru,time:Lu,right:qu,description:ju,buttons:Uu,item:Hu,tags:Vu,tag:Yu,version:Gu,alias:Ku,like:Qu,likeText:Wu,likeCount:Zu,likeIcon:Ju,maintainers:Xu,maintainer:er,email:tr,clickable:nr,dep:ar};async function ur(t){return(await b.get("/package/"+t)).data}async function rr(t){return(await b.get(`/package/${encodeURIComponent(t)}/maintainers`)).data}function sr(t,n){return b.put("/star/"+encodeURIComponent(t),{status:n})}async function lr(t){return(await b.get("/star/"+encodeURIComponent(t))).data}async function cr(t){return(await b.get(`/package/${encodeURIComponent(t)}/entity`)).data}function ir(t,n){return b.post(`/packages/${encodeURIComponent(t)}/transfer`,{uid:n})}var or=Object.defineProperty,mr=Object.getOwnPropertyDescriptor,dr=(t,n,u,r)=>{for(var a=r>1?void 0:r?mr(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&or(n,u,a),a};const{Option:Er}=me,{TabPane:Te}=je,gr=e.createContext("Light"),pr=e.createContext("Bamboo");let tt=class{render(){const t=$e("scope"),n=$e("pkg"),u=$e("version"),r=i.exports.useMemo(()=>t?"@"+t+"/"+n:n,[t,n]),{loading:a,result:s,error:l}=P(ur,[r]),c=i.exports.useMemo(()=>s?u||s["dist-tags"].latest:null,[u,s]),m=i.exports.useMemo(()=>s?s.versions[c]:null,[c,s]),d=i.exports.useMemo(()=>this.getVersions(s),[s]),o=v(this.readmeArea,this),p=v(this.title,this),h=v(this.versions,this),E=v(this.keywords,this),_=v(this.maintainers,this),w=v(this.deps,this),T=te("tab","readme"),B=Ke(J=>J.pathname);return e.createElement(H,{spinning:a,style:{minHeight:200},tip:"\u52A0\u8F7D\u516C\u6709\u6A21\u5757\u4F1A\u6BD4\u8F83\u7F13\u6162\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F85..."},l?e.createElement(I,{image:I.PRESENTED_IMAGE_SIMPLE,description:l.message}):e.createElement(D,{gutter:[12,24]},e.createElement(g,{span:24},!!m&&e.createElement(p,{isNppm:!!s._nppm,current:c,version:m,versions:d,time:be(s.time[m.version]).format("YYYY-MM-DD HH:mm:ss")})),e.createElement(g,{span:24},e.createElement(je,{activeKey:T,onChange:J=>k(B+"?tab="+J)},e.createElement(Te,{tab:"\u6587\u6863",key:"readme"},!!s&&e.createElement(o,he(ae({},s),{extra:!!m&&!!m.keywords&&!!m.keywords.length&&e.createElement(E,{dataSource:m.keywords,isPrivate:!!s._nppm})}))),e.createElement(Te,{tab:"\u7248\u672C",key:"versions"},!!s&&e.createElement(h,{dataSource:s})),e.createElement(Te,{tab:"\u4F9D\u8D56",key:"dependencies"},!!m&&e.createElement(w,{dataSource:(m==null?void 0:m.dependencies)||{}})),e.createElement(Te,{tab:"\u8D21\u732E\u8005",key:"maintainers"},!!m&&e.createElement(_,{name:r,maintainers:(m==null?void 0:m.maintainers)||[]}))))))}versions(t){const n=i.exports.useMemo(()=>this.getVersions(t.dataSource,!0),[t.dataSource]),u=i.exports.useMemo(()=>this.versionColumns(t.dataSource.name),[t.dataSource.name]);return e.createElement(xt,{pagination:!1,dataSource:n,columns:u,rowKey:r=>r.value+":"+r.alias})}keywords(t){return e.createElement(i.exports.Fragment,null,e.createElement(f.Title,{level:2,style:{marginTop:24}},"Keywords"),e.createElement(f.Paragraph,{className:S.keywords},t.dataSource.map(n=>e.createElement(f.Link,{key:n,onClick:()=>k("/search?q="+n+"&t="+(t.isPrivate?"private":"public"))},n))))}maintainers(t){const{result:n,error:u}=P(rr,[t.name]),r=i.exports.useMemo(()=>n&&n.length?n:(t.maintainers||[]).map(a=>Object.assign(a,{avatar:St.url(a.email),public:!0})),[n]);return i.exports.useEffect(()=>{if(u)return F.error(u.message)},[u]),e.createElement(D,{className:S.maintainers,gutter:[24,24]},r.length?r.map(a=>e.createElement(g,{span:6,key:a.name},e.createElement(y,{blocked:!0,className:Q(S.maintainer,{[S.clickable]:!a.public}),onClick:()=>!a.public&&k("/user/"+a.name)},e.createElement(se,{src:a.avatar,size:38}),e.createElement(y,{span:1,scroll:"hide",direction:"column"},e.createElement(f.Text,{ellipsis:!0},a.name),e.createElement(f.Text,{ellipsis:!0,className:S.email},a.email))))):e.createElement(I,{description:"\u6B64\u6A21\u5757\u65E0\u8D21\u732E\u8005",image:I.PRESENTED_IMAGE_SIMPLE,style:{width:"100%"}}))}deps(t){const n=i.exports.useMemo(()=>t.dataSource?Object.keys(t.dataSource).map(r=>({label:r,value:t.dataSource[r]})):[],[t==null?void 0:t.dataSource]);return e.createElement(D,{gutter:[24,8]},n.length?n.map(u=>e.createElement(g,{span:6,key:u.label},e.createElement(f.Link,{ellipsis:!0,title:u.label,className:S.dep,style:{marginRight:24},onClick:()=>k("/package/"+u.label)},u.label))):e.createElement(I,{description:"\u6B64\u6A21\u5757\u65E0\u4F9D\u8D56",image:I.PRESENTED_IMAGE_SIMPLE,style:{width:"100%"}}))}versionColumns(t){return[{title:"\u7248\u672C\u53F7",dataIndex:"label",className:"number",render(n){return e.createElement(f.Link,{onClick:()=>k(`/package/${t}/v/${n}`)},n)}},{title:"\u522B\u540D",dataIndex:"alias",className:"number"},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"time",width:200,className:"number",render(n){return be(n).format("YYYY-MM-DD HH:mm:ss")}}]}getVersions(t,n){if(!t)return[];const u=[],r=[];if(t["dist-tags"])for(const a in t["dist-tags"])u.push({label:t["dist-tags"][a],value:t["dist-tags"][a],alias:a,time:n?t.time[t["dist-tags"][a]]:void 0}),r.push(t["dist-tags"][a]);return u.push(...Object.keys(t.versions).filter(a=>!r.includes(a)).map(a=>({label:a,value:a,time:n?t.time[a]:void 0})).sort()),u}readmeArea(t){return e.createElement("div",{className:S.markdown},e.createElement(sn,{rehypePlugins:[ln,cn,on],remarkPlugins:[mn]},t.readme||"No Readme"),t.extra)}title(t){var s;const n=v(this.star,this),u=v(this.transfer,this),[r,a]=i.exports.useState(t.current);return i.exports.useEffect(()=>a(t.current),[t.current]),e.createElement(M,{direction:"vertical",style:{width:"100%"},size:8},e.createElement(y,{align:"between",valign:"middle",blocked:!0,direction:"row",className:S.head,scroll:"hide"},e.createElement(y,{span:1,scroll:"hide",direction:"row",className:S.left,valign:"middle"},e.createElement(M,{className:S.pathname},t.version.name),e.createElement(y,{scroll:"hide",className:S.desc,valign:"middle"},e.createElement(K,{color:"volcano"},"@",t.version.version),e.createElement(f.Text,{className:S.time,copyable:{text:`npm i ${t.version.name} --registry=${window.location.origin}`}},t.time," Published"))),e.createElement(y,{className:S.right,valign:"middle"},e.createElement(M,{align:"center"},e.createElement(me,{value:r,onChange:l=>k("/package/"+t.version.name+"/v/"+l)},t.versions.map(l=>e.createElement(Er,{value:l.value,key:l.value},e.createElement(y,{align:"between",valign:"middle",style:{columnGap:24},title:l.label,className:S.version},e.createElement("span",null,"v",l.label),e.createElement("span",{className:S.alias},l.alias?"@"+l.alias:null))))),!!t.isNppm&&e.createElement(n,{pkg:t.version.name}),!!t.isNppm&&!!t.version&&e.createElement(u,{name:t.version.name})))),(!!t.version.license||!!t.version.homepage||!!t.version.repository)&&e.createElement(M,{className:S.buttons,size:8},!!t.version.license&&e.createElement("div",{className:S.item},e.createElement(dn,null)," ",e.createElement(f.Link,{href:En(t.version.license),target:"_blank"},t.version.license)),!!t.version.homepage&&e.createElement("div",{className:S.item},e.createElement(gn,null)," ",e.createElement(f.Link,{href:t.version.homepage,target:"_blank"},t.version.homepage)),!!t.version.repository&&t.version.repository.url&&e.createElement("div",{className:S.item},e.createElement(pn,null)," ",e.createElement(f.Link,{ellipsis:!0,href:t.version.repository.url.replace(/^[^\+]+\+/,""),target:"_blank"},t.version.repository.url.replace(/^[^\+]+\+/,"")))),!!((s=t==null?void 0:t.version)==null?void 0:s.description)&&e.createElement(f.Paragraph,{ellipsis:{rows:2},className:S.description,title:t.version.description},t.version.description))}star(t){var l,c;const n=P(lr,[t.pkg]),u=$(sr),r=!!((l=n==null?void 0:n.result)==null?void 0:l.status),a=((c=n==null?void 0:n.result)==null?void 0:c.count)||0,s=()=>{const m=!n.result.status;u.execute(t.pkg,m).then(()=>n.execute(t.pkg)).then(()=>F.success(m?"\u6536\u85CF\u6210\u529F":"\u53D6\u6D88\u6536\u85CF\u6210\u529F")).catch(d=>F.error(d.message))};return i.exports.useEffect(()=>{if(n.error)return F.error(n.error.message)},[n.error]),e.createElement(H,{spinning:!!n.loading},e.createElement(U,{icon:r?e.createElement(hn,{className:S.likeIcon}):e.createElement(st,{className:S.likeIcon}),onClick:s,className:S.like},e.createElement(M,{align:"center"},e.createElement("span",{className:S.likeText},r?"Starred":"Star"),e.createElement("span",{className:Q(S.likeCount,"number")},a))))}transfer(t){var p;const n=i.exports.useContext(Ee),{loading:u,error:r,result:a,execute:s}=P(cr,[t.name]),l=$(ir),[c,m]=ve.useModal(),d=(h,E)=>{c.confirm({title:"\u786E\u5B9A\u8F6C\u8BA9\u7ED9 "+h+" \u5417\uFF1F",content:"\u8F6C\u8BA9\u540E\u4F60\u5C06\u4E0D\u80FD\u4EE5\u7BA1\u7406\u5458\u8EAB\u4EFD\u64CD\u4F5C\u8FD9\u4E2A\u6A21\u5757\uFF01",onOk:()=>{l.execute(t.name,E).then(()=>s(t.name)).then(()=>F.success("\u64CD\u4F5C\u6210\u529F")).catch(_=>F.error(_.message))}})},o=e.createElement(le,null,((p=a==null?void 0:a.members)==null?void 0:p.length)&&(a==null?void 0:a.members.map(h=>e.createElement(le.Item,{disabled:h.uid===n.id,key:h.uid,onClick:()=>d(h.nickname,h.uid)},e.createElement("div",null,"\u8F6C\u8BA9\u7ED9 ",h.nickname)))));return i.exports.useEffect(()=>r&&F.error(r.message),[r]),e.createElement(gr.Provider,{value:"Light"},e.createElement(yt.Button,{type:"primary",disabled:(a==null?void 0:a.uid)!==n.id,loading:u,overlay:o},"\u8F6C\u8BA9"),m,e.createElement(pr.Provider,{value:"Bamboo"}))}};tt=dr([z(),j("/package/:pkg"),j("/package/:pkg/v/:version"),j("/package/@:scope/:pkg"),j("/package/@:scope/:pkg/v/:version"),Z(G)],tt);const hr="_plugin_e9plp_1",Fr="_code_e9plp_8",fr="_desc_e9plp_13",vr="_extra_e9plp_18";var fe={plugin:hr,code:Fr,desc:fr,extra:vr};async function _r(){return(await b.get("/plugins")).data}function Cr(t){return b.delete(`/plugin/${encodeURIComponent(t)}`)}function br(t){return b.post("/plugin",t)}async function yr(){return(await b.get("/plugin/history")).data}function Br(t,n){return b.put(`/plugin/${encodeURIComponent(t)}/configs`,n)}function Dr(t){return b.delete(`/plugin/history/cancel/${t}`)}var xr=Object.defineProperty,Sr=Object.getOwnPropertyDescriptor,Ot=(t,n,u,r)=>{for(var a=r>1?void 0:r?Sr(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&xr(n,u,a),a};const{TabPane:ft}=je,wr=Ce.Group;let qe=class{constructor(){C(this,"AdminBaseSettingPage");C(this,"size",8);C(this,"components",{input:v(this.inputComponent,this),select:v(this.selectComponent,this),radio:v(this.radioComponent,this),switch:v(this.switchComponent,this),checkbox:v(this.checkboxComponent,this)})}render(){const t=te("tab","installed"),n=v(this.plugins,this),u=v(this.install,this),r=v(this.histories,this),a=$(_r),s=$(yr),[l,c]=i.exports.useState(null),m=i.exports.useMemo(()=>!!a.loading||!!s.loading,[a.loading,s.loading]),d=()=>a.execute().catch(h=>F.error(h.message)),o=()=>s.execute().catch(h=>F.error(h.message)),p=i.exports.useMemo(()=>!s||!s.result||!s.result.length?0:s.result.filter(h=>[0,1].includes(h.status)).length,[s==null?void 0:s.result]);return i.exports.useEffect(()=>c(t),[t]),i.exports.useEffect(()=>{switch(l){case"installed":d();break;case"history":o();break}},[l]),i.exports.useEffect(()=>{if(l==="history"&&p){const h=setInterval(o,2e3);return()=>clearInterval(h)}},[l,p]),e.createElement(H,{spinning:m},e.createElement(D,{gutter:[24,12]},e.createElement(g,{span:24},e.createElement(y,{align:"between",valign:"middle"},e.createElement(je,{size:"small",activeKey:l,onChange:h=>k("/admin/plugins?tab="+h)},e.createElement(ft,{tab:e.createElement("span",null,e.createElement(Fn,null),"\u5DF2\u5B89\u88C5\u7684\u63D2\u4EF6"),key:"installed"}),e.createElement(ft,{tab:e.createElement("span",null,e.createElement(fn,null),"\u63D2\u4EF6\u5B89\u88C5\u5386\u53F2"),key:"history"})),e.createElement(u,{refetch:l==="installed"?d:o}))),l==="installed"?e.createElement(n,{dataSource:(a==null?void 0:a.result)||[],refetch:d}):e.createElement(r,{dataSource:(s==null?void 0:s.result)||[]})))}plugins(t){const n=v(this.plugin,this);return e.createElement(i.exports.Fragment,null,t.dataSource.map(u=>e.createElement(g,{span:this.size,key:u.name},e.createElement(n,{dataSource:u,refetch:t.refetch}))))}histories(t){const n=i.exports.useMemo(()=>this.columns(),[]);return e.createElement(g,{span:24},e.createElement(xt,{pagination:!1,dataSource:t.dataSource,columns:n,rowKey:"id"}))}columns(){const t=v(this.viewProcess,this),n=v(this.cancelTask,this);return[{title:"\u63D2\u4EF6\u540D",className:"number",render(u){return e.createElement(i.exports.Fragment,null,u.status<0&&e.createElement(Y,{status:"error",text:u.name}),[0,1].includes(u.status)&&e.createElement(Y,{status:"processing",text:u.name}),u.status===2&&e.createElement(Y,{status:"success",text:u.name}))}},{title:"\u4EFB\u52A1\u5F00\u59CB\u65F6\u95F4",dataIndex:"startTimeStamp",className:"number",render:this.formatTime},{title:"\u4E0B\u8F7D\u7ED3\u675F\u65F6\u95F4",dataIndex:"endTimeStamp",className:"number",render:this.formatTime},{title:"\u5B89\u88C5\u7ED3\u675F\u65F6\u95F4",dataIndex:"installedTimeStamp",className:"number",render:this.formatTime},{title:"\u4E0B\u8F7D",dataIndex:"status",align:"center",render(u){if(u<0)return e.createElement(K,{color:"error"},"\u5931\u8D25");if(u===0)return e.createElement(K,{color:"processing"},"\u8FDB\u884C\u4E2D");if(u>=1)return e.createElement(K,{color:"success"},"\u6210\u529F")}},{title:"\u5B89\u88C5",dataIndex:"status",align:"center",render(u){if(u<0)return e.createElement(K,{color:"error"},"\u5931\u8D25");if(u===0)return e.createElement(K,{color:"default"},"\u672A\u5F00\u59CB");if(u===1)return e.createElement(K,{color:"processing"},"\u8FDB\u884C\u4E2D");if(u===2)return e.createElement(K,{color:"success"},"\u6210\u529F")}},{title:"\u64CD\u4F5C",render(u){return e.createElement(M,null,![0,1].includes(u.status)&&e.createElement(t,{msg:u.msg}),u.status<0&&e.createElement(re,{title:u.error},e.createElement(f.Link,{disabled:!0},"\u9519\u8BEF")),[0,1].includes(u.status)&&e.createElement(n,{id:u.id}))}}]}viewProcess(t){const[n,u]=i.exports.useState(!1);return e.createElement(i.exports.Fragment,null,e.createElement(f.Link,{onClick:()=>u(!0)},"\u4FE1\u606F"),e.createElement(ve,{visible:n,onCancel:()=>u(!1),title:"\u5B89\u88C5\u8FC7\u7A0B\u4FE1\u606F",footer:null},e.createElement(D,{gutter:[12,8]},t.msg.map((r,a)=>e.createElement(g,{span:24,key:a},r)))))}cancelTask(t){const{execute:n,loading:u}=$(Dr),r=()=>{n(t.id).then(()=>F.success("\u53D6\u6D88\u4EFB\u52A1\u6210\u529F")).catch(a=>F.error(a.message))};return e.createElement(f.Link,{disabled:u,onClick:r},u?"\u53D6\u6D88\u4E2D...":"\u53D6\u6D88")}formatTime(t){return t?be(t).format("YYYY-MM-DD HH:mm:ss"):null}plugin(t){const n=v(this.uninstall,this),u=v(this.setting,this);return e.createElement(y,{className:fe.plugin,scroll:"hide"},e.createElement(se,{src:t.dataSource.plugin_icon}),e.createElement(y,{span:1,scroll:"hide",direction:"column"},e.createElement(f.Text,{className:fe.label,ellipsis:!0,title:t.dataSource.plugin_name},t.dataSource.plugin_name),e.createElement(f.Text,{className:fe.code,ellipsis:!0,title:`${t.dataSource.name}@${t.dataSource.version}`},t.dataSource.name,"@",t.dataSource.version),e.createElement(f.Paragraph,{className:fe.desc,ellipsis:{rows:2},title:t.dataSource.description},t.dataSource.description),e.createElement(M,{className:fe.extra},!!t.dataSource.plugin_configs&&e.createElement(u,{name:t.dataSource.name,configs:t.dataSource.plugin_configs}),e.createElement(n,{name:t.dataSource.name,refetch:t.refetch}))))}uninstall(t){const{loading:n,execute:u}=$(Cr),r=()=>{u(t.name).then(()=>t.refetch()).then(()=>F.success("\u5378\u8F7D\u63D2\u4EF6\u6210\u529F")).catch(a=>F.error(a.message))};return e.createElement(vn,{title:"\u786E\u5B9A\u8981\u5378\u8F7D\u6B64\u63D2\u4EF6\uFF1F",onConfirm:r,cancelText:"\u653E\u5F03",okText:"\u5378\u8F7D"},e.createElement(f.Link,{disabled:n},e.createElement(_n,null)," ",n?"\u5378\u8F7D\u4E2D...":"\u5378\u8F7D"))}install(t){const n=P(kt,[]),u=$(br),[r,a]=i.exports.useState(!1),[s,l]=i.exports.useState(null),[c,m]=i.exports.useState(!1),[d,o]=i.exports.useState(null),p=v(this.AdminBaseSettingPage.config,this.AdminBaseSettingPage),h=i.exports.useMemo(()=>{if(!n.result)return[];const _=[{label:n.result.domain,value:n.result.domain}];return _.push(...n.result.registries.map(w=>({label:w,value:w}))),_},[n.result]),E=()=>{u.execute({name:s,registry:d,dev:c}).then(()=>a(!1)).then(()=>t.refetch()).then(()=>F.success(c?"\u5B89\u88C5\u8C03\u8BD5\u63D2\u4EF6\u6210\u529F":"\u5B89\u88C5\u63D2\u4EF6\u8FDB\u884C\u4E2D\uFF0C\u8BF7\u524D\u5F80\u63D2\u4EF6\u5386\u53F2\u67E5\u770B\u5B89\u88C5\u8FDB\u5EA6")).catch(_=>F.error(_.message))};return i.exports.useEffect(()=>{h.length&&o(h[0].value)},[h]),i.exports.useEffect(()=>n.error&&F.error(n.error.message),[n.error]),e.createElement(i.exports.Fragment,null,e.createElement(U,{type:"primary",icon:e.createElement(Ct,null),onClick:()=>a(!0)},"\u5B89\u88C5\u63D2\u4EF6"),e.createElement(ve,{title:"\u5B89\u88C5\u65B0\u63D2\u4EF6",visible:r,onOk:E,onCancel:()=>a(!1),cancelText:"\u53D6\u6D88",okText:"\u5B89\u88C5",confirmLoading:u.loading},e.createElement(D,{gutter:[24,32]},e.createElement(p,{title:e.createElement(Y,{status:"error",text:"\u63D2\u4EF6\u540D"}),description:"\u4E00\u822C\u6307\u63D2\u4EF6\u7684`package.json`\u7684`name`\u5C5E\u6027\uFF0C\u53EF\u4EE5\u5E26\u4E0A`@`\u7684\u7248\u672C\u53F7\uFF0C\u5982 `@nppm/dingtalk@1.0.0`\u3002\u5982\u679C\u9009\u62E9\u5F00\u53D1\u8C03\u8BD5\uFF0C\u8BF7\u8F93\u5165\u63D2\u4EF6\u6587\u4EF6\u5939\u5B8C\u6574\u8DEF\u5F84\u3002"},e.createElement(x,{disabled:u.loading,value:s,onChange:_=>l(_.target.value),placeholder:c?"\u8BF7\u8F93\u5165\u672C\u5730\u5F85\u8C03\u8BD5\u63D2\u4EF6\u6587\u4EF6\u5939\u5730\u5740...":"\u8BF7\u8F93\u5165\u63D2\u4EF6\u6807\u8BC6..."})),e.createElement(p,{title:"\u8C03\u8BD5",description:"\u5982\u679C\u5F00\u542F\u6B64\u9009\u9879\uFF0C\u8868\u793A\u6211\u4EEC\u5F00\u59CB\u5F00\u53D1\u63D2\u4EF6\uFF0C\u5728\u63D2\u4EF6\u540D\u4E2D\u8F93\u5165\u5F85\u5F00\u53D1\u63D2\u4EF6\u7684\u6587\u4EF6\u5939\u5730\u5740\u3002"},e.createElement(Ce,{disabled:u.loading,onChange:_=>m(_.target.checked),checked:c},"\u672C\u5730\u5F00\u53D1\u8C03\u8BD5")),!c&&e.createElement(p,{title:"\u4E0B\u8F7D\u63D2\u4EF6\u4ED3\u5E93\u9009\u62E9",description:"\u9009\u62E9\u63D2\u4EF6\u6240\u5728\u7684\u79C1\u6709\u4ED3\u5E93\u5730\u5740\uFF0C\u60A8\u53EF\u4EE5\u9009\u62E9\u516C\u6709\u6E90\uFF0C\u9875\u53EF\u4EE5\u9009\u62E9\u672C\u5730\u6E90\u3002"},e.createElement(me,{disabled:u.loading,value:d,style:{width:"100%"},onChange:_=>o(_),options:h})))))}setting(t){const[n,u]=i.exports.useState(!1),[r,a]=i.exports.useState({}),{loading:s,execute:l}=$(Br),c=v(this.AdminBaseSettingPage.config,this.AdminBaseSettingPage),m=()=>{l(t.name,r).then(()=>u(!1)).then(()=>F.success("\u66F4\u65B0\u63D2\u4EF6\u914D\u7F6E\u6210\u529F")).catch(o=>F.error(o.message))},d=(o,p)=>{const h=Et(r,[]);a(he(ae({},h),{[o]:p}))};return i.exports.useEffect(()=>{const o={};t.configs.forEach(p=>o[p.key]=p.value),a(o)},[t.configs]),e.createElement(i.exports.Fragment,null,e.createElement(f.Link,{onClick:()=>u(!0)},e.createElement(_t,null)," \u8BBE\u7F6E"),e.createElement(ve,{title:"\u66F4\u65B0\u914D\u7F6E",visible:n,confirmLoading:s,onOk:m,onCancel:()=>u(!1),cancelText:"\u53D6\u6D88",okText:"\u66F4\u65B0"},e.createElement(D,{gutter:[0,16]},t.configs.map(o=>{switch(o.type){case"input":const p=this.components.input;return e.createElement(g,{span:24,key:o.key},e.createElement(c,{title:o.title,description:o.description},e.createElement(p,{key:o.key,placeholder:o.placeholder,value:r[o.key],onChange:T=>d(o.key,T),mode:o.mode,width:o.width})));case"select":const h=this.components.select;return e.createElement(g,{span:24,key:o.key},e.createElement(c,{title:o.title,description:o.placeholder},e.createElement(h,{key:o.key,placeholder:o.placeholder,value:r[o.key],onChange:T=>d(o.key,T),fields:o.fields,width:o.width})));case"radio":const E=this.components.radio;return e.createElement(g,{span:24,key:o.key},e.createElement(c,{title:o.title,description:o.description},e.createElement(E,{key:o.key,value:r[o.key],onChange:T=>d(o.key,T),fields:o.fields})));case"switch":const _=this.components.switch;return e.createElement(g,{span:24,key:o.key},e.createElement(c,{title:o.title,description:o.description},e.createElement(_,{key:o.key,value:r[o.key],placeholder:o.placeholder,onChange:T=>d(o.key,T)})));case"checkbox":const w=this.components.checkbox;return e.createElement(g,{span:24,key:o.key},e.createElement(c,{title:o.title,description:o.description},e.createElement(w,{key:o.key,value:r[o.key],fields:o.fields,span:o.span,gutter:o.gutter,onChange:T=>d(o.key,T)})))}}))))}inputComponent(t){return t.mode==="number"?e.createElement(de,{placeholder:t.placeholder,value:t.value,onChange:n=>t.onChange(n),style:{width:t.width}}):t.mode==="textarea"?e.createElement(x.TextArea,{placeholder:t.placeholder,value:t.value,onChange:n=>t.onChange(n.target.value),autoSize:!0,allowClear:!0,style:{width:t.width}}):e.createElement(x,{placeholder:t.placeholder,value:t.value,onChange:n=>t.onChange(n.target.value),allowClear:!0,type:t.mode,style:{width:t.width}})}selectComponent(t){return e.createElement(me,{value:t.value,options:t.fields,style:{width:t.width},onChange:n=>t.onChange(n),placeholder:t.placeholder})}radioComponent(t){return e.createElement(Ie.Group,{onChange:n=>t.onChange(n.target.value),value:t.value,options:t.fields})}switchComponent(t){return e.createElement(Dt,{checkedChildren:t.placeholder[0],unCheckedChildren:t.placeholder[1],checked:t.value,onChange:n=>t.onChange(n)})}checkboxComponent(t){return e.createElement(wr,{value:t.value,onChange:n=>t.onChange(n),style:{width:"100%"}},e.createElement(D,{gutter:t.gutter},t.fields.map(n=>e.createElement(g,{span:t.span,key:n.value},e.createElement(Ce,{value:n.value},n.label)))))}};Ot([ne(ce)],qe.prototype,"AdminBaseSettingPage",2);qe=Ot([z(),j("/admin/plugins"),Z(G,{login:!0,admin:!0})],qe);async function Ar(t,n){return(await b.get("/stars",{params:{page:t,size:n}})).data}var kr=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor,Nr=(t,n,u,r)=>{for(var a=r>1?void 0:r?Pr(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&kr(n,u,a),a};let nt=class{constructor(){C(this,"size",8);C(this,"pageSizeOptions",["9","15","30","60"])}render(){const t=Number(te("page","1")),n=Number(te("size","15")),[u,r]=i.exports.useState(1),[a,s]=i.exports.useState(15),{loading:l,result:c,error:m}=P(Ar,[u,a]),d=(o,p)=>k(`/stars?page=${o}&size=${p}`);return i.exports.useEffect(()=>m&&F.error(m.message),[m]),i.exports.useEffect(()=>r(t),[t]),i.exports.useEffect(()=>s(n),[n]),e.createElement(H,{spinning:l,style:{minHeight:200}},c&&c[0]&&c[0].length?e.createElement(D,{gutter:[24,24]},c[0].map(o=>e.createElement(g,{span:this.size,key:o.id},e.createElement(xe,{name:o.name,version:o.version,description:o.description,size:o.size,downloads:o.downloads,versions:o.versions,maintainers:o.maintainers,likes:o.likes}))),!!c[1]&&e.createElement(g,{span:24},e.createElement(De,{showSizeChanger:!0,current:u,pageSize:a,total:c[1],onChange:d,pageSizeOptions:this.pageSizeOptions}))):l?null:e.createElement(I,{description:"\u6B64\u6A21\u5757\u65E0\u8D21\u732E\u8005",image:I.PRESENTED_IMAGE_SIMPLE,style:{width:"100%"}}))}};nt=Nr([z(),j("/stars"),Z(G,{login:!0})],nt);const Or="_name_8sqjx_1",Tr="_description_8sqjx_10",Mr="_extra_8sqjx_13",$r="_o_8sqjx_17",Ir="_l_8sqjx_22",zr="_p_8sqjx_25",Rr="_q_8sqjx_28",Lr="_m_8sqjx_31",qr="_tag_8sqjx_34",jr="_searchFields_8sqjx_37",Ur="_publish_8sqjx_40";var q={name:Or,description:Tr,extra:Mr,o:$r,l:Ir,p:zr,q:Rr,m:Lr,tag:qr,searchFields:jr,publish:Ur};async function Hr(t,n,u,r){return(await b.get("/search",{params:{q:t,o:n,s:u,t:r}})).data}var Vr=Object.defineProperty,Yr=Object.getOwnPropertyDescriptor,Gr=(t,n,u,r)=>{for(var a=r>1?void 0:r?Yr(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&Vr(n,u,a),a};let at=class{constructor(){C(this,"size",10)}render(){const t=v(this.singlePackage,this),n=te("q"),u=te("t","private"),[r,a]=i.exports.useState(null),[s,l]=i.exports.useState("private"),[c,m]=i.exports.useState([]);i.exports.useEffect(()=>a(n),[n]),i.exports.useEffect(()=>l(u),[u]);const{loading:d,execute:o}=$(Hr),p=h=>{o(r,h,this.size,s).catch(E=>F.error(E.message)).then(E=>{const _=(h===0?[]:c).concat(E);m(_)})};return i.exports.useEffect(()=>{r&&s&&p(0)},[r,s]),e.createElement(H,{spinning:d,style:{minHeight:200}},e.createElement(D,{gutter:[24,24]},e.createElement(g,{span:24},e.createElement(y,{align:"between",valign:"middle",className:q.searchFields},e.createElement("span",null,e.createElement(Cn,null)," \u641C\u7D22\u5173\u952E\u5B57\uFF1A",!!r&&e.createElement(K,{color:"blue"},r)),e.createElement(Ie.Group,{onChange:h=>k(`/search?q=${r}&t=${h.target.value}`),value:s},e.createElement(Ie,{value:"private"},"\u672C\u6E90"),e.createElement(Ie,{value:"public"},"\u516C\u5171\u6E90")))),e.createElement(g,{span:24},e.createElement(pt,{bordered:!1,dataSource:c,renderItem:h=>e.createElement(pt.Item,null,e.createElement(t,{dataSource:h,type:s}))})),e.createElement(g,{span:24,style:{textAlign:"center"}},c.length>0&&c.length%this.size===0&&e.createElement(U,{onClick:()=>p(c.length)},"\u4E0B\u4E00\u9875"))))}singlePackage(t){var n,u,r,a;return e.createElement(D,{gutter:[24,24],style:{width:"100%"}},e.createElement(g,{span:18},e.createElement(M,{direction:"vertical",style:{width:"100%"},size:8},e.createElement(M,{className:q.name},e.createElement(f.Link,{onClick:()=>k("/package/"+t.dataSource.package.name)},t.dataSource.package.name),((u=(n=t.dataSource)==null?void 0:n.flags)==null?void 0:u.unstable)&&e.createElement(K,{color:"purple"},"unstable")),e.createElement(f.Text,{ellipsis:!0,className:q.description,title:t.dataSource.package.description},t.dataSource.package.description),!!((r=t.dataSource.package)==null?void 0:r.keywords)&&e.createElement("div",{className:q.tags},t.dataSource.package.keywords.map((s,l)=>e.createElement(K,{className:q.tag,key:s+":"+l,onClick:()=>k("/search?q="+encodeURIComponent(s)+"&t="+t.type)},s))),e.createElement(M,{className:Q(q.extra,"number")},e.createElement(se,{src:t.dataSource.package.publisher.avatar||St.url(t.dataSource.package.publisher.email),shape:"square",size:22}),e.createElement(f.Link,{onClick:()=>t.type==="private"&&k("/user/"+t.dataSource.package.publisher.username)},t.dataSource.package.publisher.username),e.createElement("span",{className:q.publish},"Published ",e.createElement("span",null,"v",t.dataSource.package.version)),e.createElement("span",null,"\u2022"),e.createElement("span",null,be(t.dataSource.package.date).format("YYYY-MM-DD HH:mm:ss"))))),t.type==="public"&&!!((a=t.dataSource)==null?void 0:a.score)&&e.createElement(g,{span:6},e.createElement(y,{direction:"column",valign:"bottom"},e.createElement(y,{valign:"middle",className:q.o},"p ",e.createElement("div",{style:{width:t.dataSource.score.detail.popularity*100},className:Q(q.p,q.l)})),e.createElement(y,{valign:"middle",className:q.o},"q ",e.createElement("div",{style:{width:t.dataSource.score.detail.quality*100},className:Q(q.q,q.l)})),e.createElement(y,{valign:"middle",className:q.o},"m ",e.createElement("div",{style:{width:t.dataSource.score.detail.maintenance*100},className:Q(q.m,q.l)})))))}};at=Gr([z(),j("/search"),Z(G)],at);async function Kr(t,n){return(await b.get("/stars/rank",{params:{page:t,size:n}})).data}var Qr=Object.defineProperty,Wr=Object.getOwnPropertyDescriptor,Zr=(t,n,u,r)=>{for(var a=r>1?void 0:r?Wr(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&Qr(n,u,a),a};let ut=class{constructor(){C(this,"pageSizeOptions",["9","15","30","60"])}render(){const t=Number(te("page","1")),n=Number(te("size","15")),{loading:u,result:r,error:a}=P(Kr,[t,n]),s=r||[[],0],l=(c,m)=>k(`/rank/stars?page=${c}&size=${m}`);return i.exports.useEffect(()=>a&&F.error(a.message),[a]),e.createElement(H,{spinning:u,style:{minHeight:200}},e.createElement(D,{gutter:[24,24]},s[0].length?s[0].map(c=>e.createElement(g,{span:8,key:c.id},e.createElement(xe,{name:c.name,version:c.version,description:c.description,size:c.size,downloads:c.downloads,versions:c.versions,maintainers:c.maintainers,likes:c.likes}))):e.createElement(g,{span:24},e.createElement(I,{image:I.PRESENTED_IMAGE_SIMPLE})),!!s[1]&&e.createElement(g,{span:24},e.createElement(De,{showSizeChanger:!0,current:t,pageSize:n,total:r[1],onChange:l,pageSizeOptions:this.pageSizeOptions}))))}};ut=Zr([z(),j("/rank/stars"),Z(G)],ut);async function Jr(t,n){return(await b.get("/downloads/rank",{params:{page:t,size:n}})).data}var Xr=Object.defineProperty,es=Object.getOwnPropertyDescriptor,ts=(t,n,u,r)=>{for(var a=r>1?void 0:r?es(n,u):n,s=t.length-1,l;s>=0;s--)(l=t[s])&&(a=(r?l(n,u,a):l(a))||a);return r&&a&&Xr(n,u,a),a};let rt=class{constructor(){C(this,"pageSizeOptions",["9","15","30","60"])}render(){const t=Number(te("page","1")),n=Number(te("size","15")),{loading:u,result:r,error:a}=P(Jr,[t,n]),s=r||[[],0],l=(c,m)=>k(`/rank/downloads?page=${c}&size=${m}`);return i.exports.useEffect(()=>a&&F.error(a.message),[a]),e.createElement(H,{spinning:u,style:{minHeight:200}},e.createElement(D,{gutter:[24,24]},s[0].length?s[0].map(c=>e.createElement(g,{span:8,key:c.id},e.createElement(xe,{name:c.name,version:c.version,description:c.description,size:c.size,downloads:c.downloads,versions:c.versions,maintainers:c.maintainers,likes:c.likes}))):e.createElement(g,{span:24},e.createElement(I,{image:I.PRESENTED_IMAGE_SIMPLE})),!!s[1]&&e.createElement(g,{span:24},e.createElement(De,{showSizeChanger:!0,current:t,pageSize:n,total:r[1],onChange:l,pageSizeOptions:this.pageSizeOptions}))))}};rt=ts([z(),j("/rank/downloads"),Z(G)],rt);function ns(t){t(Xe),t(ye),t(Le),t(ce),t(et),t(Be),t(tt),t(qe),t(nt),t(at),t(ut),t(rt)}bn.locale("zh-cn");const{bootstrap:as,defineController:us,useGlobalMiddlewares:ot,createNotFoundComponent:rs}=Dn();ot(ss);ot(Yn);ot(ge);ns(us);rs(()=>e.createElement(Sn,null));as("popstate",document.getElementById("root"));function ss(t){return e.createElement(yn,{locale:Bn},t.children)}
