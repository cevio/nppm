---
sidebar: auto
sidebarDepth: 2
prev: ./guider.md
next: ./plugin.md
---

# NPPM 整站配置参数详解

- 网站域名
- 注册
- 网站允许使用的命名空间
- 网站允许使用的同步源
- 发布包文件保存文件夹地址
- 选择NPM命令行默认登录方式

## 网站域名

此选项关系到模块包tgz文件的下载，所以为必填项。你必须设置为本服务可访问域名。

## 注册

开关，关系到新注册用户是否可以注册。如果已注册用户，则不影响登录。

## 网站允许使用的命名空间

可使用的scope前缀。比如`@node`，那么这个scope前缀的模块将可以被接受。

在实际程序中，如果管理员设定用户自身的scope前缀，将会与此项组合后判断是否接受。

## 网站允许使用的同步源

在非私有模块被请求的时候，将按照我们设置的同步源去获取模块信息。此项具有顺序性，根据顺序将自动获取模块信息。比如

```js
const registries = ['http://a.com', 'http://b.com']
```

1. `a.com`获取到就返回模块信息，否则进入`b.com`
2. `b.com`获取到九返回模块信息，否则返回`404`

## 发布包文件保存文件夹地址

1. 我们假设次变量为 [dir]
2. 在程序创建初期，我们设定过[dictionary]为项目目录

那么tgz文件保存地址就是`[dictionary]/[dir]`，比如 `@node/pack`存放地址

```
$ [dictionary]/[dir]/@node/pack-1.0.1.tgz
```

> 一旦初期设定好这个变量，建议不要更换，以免影响使用。目前还没有实现修正这个目录功能。

## 选择NPM命令行默认登录方式

此项将印象以下命令的实现：

1. `npm login`
2. `npm adduser`

### NPM默认登录

账号密码登录功能，即原NPM登录功能

### 第三方登录

通过安装登录插件实现的各种第三方登录，企业也可以根据文档实现自己的登录方式。

### 目前官方支持的插件

1. [@nppm/dingtalk](https://www.npmjs.com/package/@nppm/dingtalk) 钉钉登录 

### 操作路径

1. 在网站`/admin/plugins`中点击 `安装插件`，
2. 插件标识中输入模块名（同时可以选择来源），比如输入：`@nppm/dingtalk`